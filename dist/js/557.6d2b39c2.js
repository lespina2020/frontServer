"use strict";(self["webpackChunkpvr"]=self["webpackChunkpvr"]||[]).push([[557],{6876:function(e,t,a){a.d(t,{XI:function(){return m},Y2:function(){return u},bQ:function(){return n},tw:function(){return c},yC:function(){return d}});a(4719);var o=a(872),l=a(4881),i=a(4010);let s=JSON.parse(localStorage.getItem("token")),{accessToken:r}=s;console.log(r);const n=async(e,t)=>{let a;return await(0,o.Z)(e,r,t).then((e=>{a=e})).catch((e=>{console.log(e),"Request failed with status code 401"===e.message&&(localStorage.clear(),i.Z.go("/login"))})),a},u=(e,t,a,o)=>{console.log(e,t);let i=a,s=i?.toString(),r={url:o.paginacion,options:{method:o.GET},params:{page:t,size:10,title:s,base:e.tabla,varPagina:e.varPaginacion}};l.Z.dispatch("loadList",r)},d=(e,t,a)=>{if(e){let l=e.toString();if(l!=a&&""!=e){let a=t,l={method:"GET"};return new Promise((t=>{setTimeout((()=>{(0,o.Z)(`${a}${e}`,r,l).then((e=>{let a=e.data;t(!a.length||"*  ya existe")})).catch((e=>{"Request failed with status code 401"===e.message&&(localStorage.clear(),i.Z.push("/login"))}))}),1e3)}))}}},c=async(e,t)=>await(0,o.Z)(e,r,t),m=[{id:1,tipoUsuario:"operador"},{id:2,tipoUsuario:"administrador"}]},6557:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var o=a(9269),l=a(5102);const i={class:"q-pa-md"},s={class:"row"},r={class:"contenido"},n={class:"contenido"},u={class:"contenido"},d={class:"contenido"};function c(e,t,a,c,m,p){const b=(0,o.up)("q-tooltip"),v=(0,o.up)("q-btn"),g=(0,o.up)("q-card-section"),f=(0,o.up)("q-icon"),w=(0,o.up)("q-input"),h=(0,o.up)("q-select"),Z=(0,o.up)("q-card-actions"),S=(0,o.up)("q-separator"),_=(0,o.up)("q-form"),q=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(q,{class:"my-card",flat:"",bordered:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"bg-green text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{color:"green",icon:"arrow_back",size:"sm",to:"/rutas"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Atras")])),_:1})])),_:1}),(0,o.Uk)("Rutas ")])),_:1}),(0,o.Wm)(_,{ref:"myForm",onSubmit:(0,l.iM)(c.action,["prevent"])},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,null,{default:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o._)("div",r,[(0,o.Wm)(w,{type:"text",label:"Ruta",disable:c.isDisabled,modelValue:c.model.ruta,"onUpdate:modelValue":t[0]||(t[0]=e=>c.model.ruta=e),"lazy-rules":"",rules:[c.required],autogrow:""},{prepend:(0,o.w5)((()=>[(0,o.Wm)(f,{name:"card_membership",color:"blue"})])),_:1},8,["disable","modelValue","rules"])]),(0,o._)("div",n,[(0,o.Wm)(w,{type:"text",label:"Codigo Ruta",disable:c.isDisabled,modelValue:c.model.codRuta,"onUpdate:modelValue":t[1]||(t[1]=e=>c.model.codRuta=e),rules:[e=>c.search(e,"/api/Codrutas/",c.ruta),c.required]},{prepend:(0,o.w5)((()=>[(0,o.Wm)(f,{name:"person_add",color:"blue"})])),_:1},8,["disable","modelValue","rules"])]),(0,o._)("div",u,[(0,o.Wm)(h,{modelValue:c.model.idSupervisor,"onUpdate:modelValue":t[2]||(t[2]=e=>c.model.idSupervisor=e),options:c.supervisores,"option-value":"nombreApellido","option-label":"nombreApellido",disable:c.isDisabled,"emit-value":"","map-options":"",label:"Supervisor de Rutas"},null,8,["modelValue","options","disable"])]),(0,o._)("div",d,[(0,o.Wm)(h,{modelValue:c.model.idSector,"onUpdate:modelValue":t[3]||(t[3]=e=>c.model.idSector=e),options:c.sectores,"option-value":"sector","option-label":"sector",disable:c.isDisabled,"emit-value":"","map-options":"",label:"Sectores"},null,8,["modelValue","options","disable"])])])])),_:1}),(0,o.Wm)(S),(0,o.Wm)(Z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(v,{size:"sm",color:"red",disable:c.buttonDisabled,type:"submit",label:c.label},null,8,["disable","label"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])}var m=a(6237),p=a(6876),b=a(8686),v=a(7941),g=a(1825),f=a(5999),w=a(6957),h={setup(){const e=(0,m.iH)([]),t=(0,m.iH)([]),a=(0,w.oR)(),o=(0,m.iH)({method:"POST"}),l=(0,m.iH)(null),i={},s=(0,m.iH)(!1),r=(0,m.iH)([]),n=(0,m.iH)(!1),u=(0,f.Z)(),d=(0,m.iH)("Guardar"),c=(0,m.iH)("");(0,p.tw)("/api/sectores/All",o.value).then((e=>r.value=e.data)),(0,p.tw)("/api/supervisores/All",o.value).then((e=>t.value=e.data)),a.getters.isGetter("isAction").data&&(Object.assign(i,a.getters.isGetter("isAction")),e.value=i.data[0],d.value=i.label,c.value=i.data[0].codRuta,console.log(c.value),"Eliminar"!=d.value&&(n.value=i.disabled),s.value=i.disabled);const h=()=>{console.log(a.getters.isAction);let t={};Object.assign(t,e.value);const{confirm:o}=(0,v.Z)();u.notify(o(t,i,g.tM))};return{supervisores:t,model:e,search:p.yC,action:h,myForm:l,isDisabled:s,buttonDisabled:n,required:b.C1,ruta:c,sectores:r,label:d}}},Z=a(7617),S=a(8055),_=a(9501),q=a(9804),W=a(4806),y=a(3276),V=a(4333),Q=a(6931),C=a(4633),R=a(8582),k=a(4492),A=a(1410),H=a.n(A);const D=(0,Z.Z)(h,[["render",c]]);var U=D;H()(h,"components",{QCard:S.Z,QCardSection:_.Z,QBtn:q.Z,QTooltip:W.Z,QForm:y.Z,QCardActions:V.Z,QInput:Q.Z,QIcon:C.Z,QSelect:R.Z,QSeparator:k.Z})}}]);
//# sourceMappingURL=557.6d2b39c2.js.map