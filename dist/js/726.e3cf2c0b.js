"use strict";(self["webpackChunkpvr"]=self["webpackChunkpvr"]||[]).push([[726],{7726:function(e,a,t){t.r(a),t.d(a,{default:function(){return J}});var l=t(9269),s=t(5102);const i={class:"q-pa-md"},n=(0,l._)("div",{class:"text-h6"}," Registro de Planilla de Prevencion Vehicular **SALIDA*** ",-1),r={class:"text-subtitle2"},o=(0,l._)("b",null,"PVR",-1),d={class:"text-subtitle2"},u=(0,l._)("b",null,"Numero de Planilla de Operaciones",-1),c={class:"text-subtitle2"},m=(0,l._)("b",null,"UNIDAD",-1),b=(0,l._)("b",null," CHOFER",-1),p={class:"text-subtitle2"},f=(0,l._)("b",null,"AcompaÃ±antes o Ayudantes",-1),v={class:"text-subtitle2"},W=(0,l._)("b",null,"RUTAS",-1),_={class:"text-subtitle2"},g=(0,l._)("b",null,"SALIDA ",-1),w={class:"text-subtitle2"},h=(0,l._)("b",null,"Observacion ",-1);function Z(e,a,t,Z,A,x){const S=(0,l.up)("q-tooltip"),k=(0,l.up)("q-btn"),C=(0,l.up)("q-card-section"),y=(0,l.up)("q-card"),D=(0,l.up)("q-separator"),R=(0,l.up)("Iscorrelativo"),q=(0,l.up)("Unidades"),V=(0,l.up)("Choferes"),z=(0,l.up)("Rutas"),O=(0,l.up)("VerificadoresSalida"),Q=(0,l.up)("Salidas"),H=(0,l.up)("Observacion"),P=(0,l.up)("q-card-actions"),U=(0,l.up)("q-form");return(0,l.wg)(),(0,l.iD)("div",i,[(0,l.Wm)(U,{class:"q-gutter-md",onSubmit:(0,s.iM)(Z.guardar,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(C,{class:"bg-green text-white"},{default:(0,l.w5)((()=>[n,(0,l.Wm)(k,{color:"green",icon:"arrow_back",size:"sm",to:"/entrada"},{default:(0,l.w5)((()=>[(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l.Uk)(" Atras")])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(D),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l._)("div",r,[o,(0,l.Wm)(k,{size:"15px",round:"",dense:"",flat:"",color:"black",icon:"note"})]),(0,l.Wm)(D)])),_:1}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l._)("div",d,[u,(0,l.Wm)(k,{size:"15px",round:"",dense:"",flat:"",color:"black",icon:"add_shopping_cart"})]),(0,l.Wm)(R),(0,l.Wm)(D)])),_:1}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l._)("div",c,[m,(0,l.Wm)(k,{size:"15px",round:"",dense:"",flat:"",color:"black",icon:"add_shopping_cart"})]),(0,l.Wm)(q),(0,l.Wm)(D)])),_:1}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[b,(0,l.Wm)(k,{size:"15px",round:"",dense:"",flat:"",color:"black",icon:"drive_eta"}),(0,l.Wm)(V),(0,l.Wm)(D)])),_:1}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l._)("div",p,[f,(0,l.Wm)(k,{size:"15px",round:"",dense:"",flat:"",color:"black",icon:"eject"})])])),_:1}),(0,l.Wm)(D),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l._)("div",v,[W,(0,l.Wm)(k,{size:"15px",round:"",dense:"",flat:"",color:"black",icon:"map"})]),(0,l.Wm)(z)])),_:1}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(O)])),_:1}),(0,l.Wm)(D),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l._)("div",_,[g,(0,l.Wm)(y,{class:"my-card",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{modelVariables:"isVariableSalida",modelCondicion:"isVariableCondicionSalida"})])),_:1})])])),_:1}),(0,l.Wm)(D),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l._)("div",w,[h,(0,l.Wm)(y,{class:"my-card",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(H)])),_:1})])])),_:1}),(0,l.Wm)(P,{vertical:"",align:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{size:"sm",color:"red",type:"submit",label:Z.label,disable:Z.buttonDisabled},null,8,["label","disable"])])),_:1})])),_:1},8,["onSubmit"])])}var A=t(6957),x=t(6237),S=t(3133),k=t(6668),C=t(3938),y=t(6739),D=t(9006),R=t(4336),q=t(3352),V=t(7941),z=t(1825),O=t(6876),Q=t(5999),H=t(2201),P=t(8686),U={components:{Choferes:C.Z,Unidades:y.Z,VerificadoresSalida:q.Z,Rutas:R.Z,Salidas:S.Z,Observacion:k.Z,Iscorrelativo:D.Z},setup(){const e=(0,A.oR)(),a=(0,Q.Z)(),t=(0,x.iH)(!1),l=(0,x.iH)("Guardar"),s=(0,H.yj)(),i=s.name,n=(0,x.iH)(!1),r=(0,x.iH)(!1),o=(0,x.iH)({}),d={};let u="status",c=!0;if(e.getters.isAction.data){Object.assign(d,e.getters.isAction);let a={...e.getters.isAction.data},{pvr:i}=a;i=JSON.parse(i),"Eliminar"!=l.value&&(r.value=d.disabled,l.value=d.label),t.value=d.disabled,Object.entries(i).forEach((([a,t])=>{e.dispatch("varMutuacion",{val:a,valor:t})})),"entradaAdd"===s.name&&(l.value="Cerrar PVR",c=!1)}const m=async()=>{console.log(c);let t=e.getters.isGetter("isUnidad").unidad;if(e.getters.isAction.data||await(0,O.bQ)(`/api/salidas/pvrStatus/${t}`,"GET").then((e=>{n.value=e.data.status,o.value=e.data})),!0===n.value)a.notify({type:"negative",message:`La unidad Tiene un PVR Abierto con fecha de :${(0,P.Hg)(o.value.fecha)} Chofer:${o.value.chofer} y Registrador Por: ${o.value.usuario}`});else{e.dispatch("varMutuacion",{val:u,valor:c});let t=e.getters.isData().pvr;const{confirm:l}=(0,V.Z)();console.log(t),console.log(e.getters.isData().pvr),a.notify(l(e.getters.isData(),d,z.f))}};return{guardar:m,label:l,visibleEntrada:i,buttonDisabled:r}}},E=t(7617),I=t(3276),j=t(8055),T=t(9501),$=t(9804),G=t(4806),L=t(4492),M=t(4333),N=t(1410),F=t.n(N);const B=(0,E.Z)(U,[["render",Z]]);var J=B;F()(U,"components",{QForm:I.Z,QCard:j.Z,QCardSection:T.Z,QBtn:$.Z,QTooltip:G.Z,QSeparator:L.Z,QCardActions:M.Z})}}]);
//# sourceMappingURL=726.e3cf2c0b.js.map