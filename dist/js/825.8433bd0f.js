"use strict";(self["webpackChunkpvr"]=self["webpackChunkpvr"]||[]).push([[825],{6876:function(e,t,o){o.d(t,{XI:function(){return p},Y2:function(){return u},bQ:function(){return s},tw:function(){return c},yC:function(){return d}});o(4719);var a=o(872),n=o(4881),l=o(4010);let i=JSON.parse(localStorage.getItem("token")),{accessToken:r}=i;console.log(r);const s=async(e,t)=>{let o;return await(0,a.Z)(e,r,t).then((e=>{o=e})).catch((e=>{console.log(e),"Request failed with status code 401"===e.message&&(localStorage.clear(),l.Z.go("/login"))})),o},u=(e,t,o,a)=>{console.log(e,t);let l=o,i=l?.toString(),r={url:a.paginacion,options:{method:a.GET},params:{page:t,size:10,title:i,base:e.tabla,varPagina:e.varPaginacion}};n.Z.dispatch("loadList",r)},d=(e,t,o)=>{if(e){let n=e.toString();if(n!=o&&""!=e){let o=t,n={method:"GET"};return new Promise((t=>{setTimeout((()=>{(0,a.Z)(`${o}${e}`,r,n).then((e=>{let o=e.data;t(!o.length||"*  ya existe")})).catch((e=>{"Request failed with status code 401"===e.message&&(localStorage.clear(),l.Z.push("/login"))}))}),1e3)}))}}},c=async(e,t)=>await(0,a.Z)(e,r,t),p=[{id:1,tipoUsuario:"operador"},{id:2,tipoUsuario:"administrador"}]},8825:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var a=o(9269);function n(e,t,o,n,l,i){const r=(0,a.up)("Table");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(r,{variables:n.ayudantes,endPoint:n.endPoint,method:n.method,col:n.columnAyudantes},null,8,["variables","endPoint","method","col"])])}var l=o(3678),i=o(1825),r=o(5090),s={components:{Table:l.Z},setup(){return{ayudantes:i.tG,endPoint:i.SJ,method:i.UD,columnAyudantes:r.ml}}},u=o(7617);const d=(0,u.Z)(s,[["render",n]]);var c=d},3678:function(e,t,o){o.d(t,{Z:function(){return W}});var a=o(9269),n=o(3201);const l={class:"q-pa-md"};function i(e,t,o,i,r,s){const u=(0,a.up)("q-icon"),d=(0,a.up)("q-input"),c=(0,a.up)("q-btn"),p=(0,a.up)("q-th"),m=(0,a.up)("q-tr"),g=(0,a.up)("q-td"),w=(0,a.up)("q-tooltip"),f=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(f,{title:"",rows:i.row,columns:i.columns,"rows-per-page-options":[3,6,9],pagination:i.pagination,"onUpdate:pagination":t[2]||(t[2]=e=>i.pagination=e),"row-key":"id",onRequest:i.handleRequest},{"top-right":(0,a.w5)((()=>[(0,a.Wm)(d,{rounded:"",filled:"",clearable:"",borderless:"",debounce:"300",modelValue:i.filter,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.filter=e),i.buscar],placeholder:i.variable.filter,"bg-color":"field"},{append:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"search",color:"blue"})])),_:1},8,["modelValue","onUpdate:modelValue","placeholder"])])),"top-left":(0,a.w5)((()=>[(0,a.Wm)(c,{color:"red",icon:"add",size:"sm",onClick:t[1]||(t[1]=e=>i.action(null))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(i.Agregar),1)])),_:1})])),header:(0,a.w5)((e=>[(0,a.Wm)(m,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{"auto-width":""}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cols,(t=>((0,a.wg)(),(0,a.j4)(p,{key:t.name,props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,a.w5)((e=>[(0,a.Wm)(m,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{"auto-width":""}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cols,(t=>((0,a.wg)(),(0,a.j4)(g,{key:t.name,props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.value),1)])),_:2},1032,["props"])))),128)),(0,a.Wm)(g,{"auto-width":""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{color:"green",icon:"search",size:"sm",onClick:t=>i.action(e.row.id,"GET",null,"Consulta",!0)},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" Consultar")])),_:1})])),_:2},1032,["onClick"]),(0,a.Wm)(c,{disable:i.isAdmin,color:"red",icon:"delete",onClick:t=>i.action(e.row.id,"DELETE",` Registro Eliminado :${e.row.id}`,"Eliminar",!0),size:"sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" Eliminar")])),_:1})])),_:2},1032,["disable","onClick"]),(0,a.Wm)(c,{color:"blue",icon:"edit",size:"sm",onClick:t=>i.action(e.row.id,"PUT",null,"Modificar",!1)},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" Modificar")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination","onRequest"])])}o(4719);var r=o(6237),s=o(6876),u=o(2201),d=o(6957),c={name:"Qtable",props:["variables","endPoint","method","col"],setup(e){const t=(0,r.iH)(e.col()),o=(0,r.iH)([]),n=e.variables,l=(e.endPoint,e.method),i=1,c="",p=(0,r.iH)({page:0,rowsPerPage:10,rowsNumber:0}),m=(0,r.iH)(!0),g=(0,u.tv)(),w=(0,d.oR)(),f=(0,r.iH)("");let h="Agregar",b=null;function v(e){console.log(e),(0,s.Y2)(n,e.pagination.page,f.value,l)}function k(){(0,s.Y2)(n,p.value.page,f.value,l)}"administrador"===w.getters.isGetter("isToken").tipoUsuario&&(m.value=!1),(0,s.Y2)(n,i,c,l),(0,a.m0)((()=>{if(w.getters.isGetter("isList")){const{tu:e,currentPage:t,totalPages:a,totalItems:n}=w.getters.isGetter("isList");o.value=e,p.value.page=t,p.value.rowsPerPage=a,p.value.rowsNumber=n}}));const P=(e,t,o,a,l)=>{if(null===e)w.dispatch("resetState"),g.push(n.routeAdd);else{let i=`${n.endPointBase}${e}`;b=n.routeAdd;let r={url:i,options:{method:"GET"},msg:o,label:a,method:t,disabled:l,routeAdd:b,routePrincipal:n.routePrincipal};console.log(r),w.dispatch("action",r)}};return{columns:t,handleRequest:v,row:o,buscar:k,action:P,filter:f,variable:n,Agregar:h,isAdmin:m,pagination:p}}},p=o(7617),m=o(4025),g=o(6931),w=o(4633),f=o(9804),h=o(8231),b=o(2195),v=o(7282),k=o(4806),P=o(1410),Z=o.n(P);const T=(0,p.Z)(c,[["render",i]]);var W=T;Z()(c,"components",{QTable:m.Z,QInput:g.Z,QIcon:w.Z,QBtn:f.Z,QTr:h.Z,QTh:b.Z,QTd:v.Z,QTooltip:k.Z})}}]);
//# sourceMappingURL=825.8433bd0f.js.map