{"version":3,"file":"js/107.1862c909.js","mappings":"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","sources":["webpack://pvr/./src/components/reportes/reporteOperatividad.vue","webpack://pvr/./src/components/reportes/reporteOperatividad.vue?3e33"],"sourcesContent":["<template>\r\n  <div class=\"q-pa-md\">\r\n    <q-form class=\"q-gutter-md\" @submit.prevent=\"action\">\r\n      <q-card>\r\n        <q-card-section class=\"bg-green text-white\">\r\n          <div class=\"text-h6\">UNIDADES OPERATIVAS E INOPERATIVAS</div>\r\n          <q-btn color=\"green\" :icon=\"'arrow_back'\" size=\"sm\" to=\"/\">\r\n            <q-tooltip> Atras</q-tooltip></q-btn\r\n          >\r\n        </q-card-section>\r\n      </q-card>\r\n\r\n      <q-card>\r\n        <q-card-actions vertical align=\"center\">\r\n          <div v-if=\"operativo === true\">\r\n            <q-card>\r\n              <div class=\"text-subtitle2\">\r\n                <b>Reporte Operatividad de las Unidades</b>\r\n              </div>\r\n              <Bar id=\"my-chart-id\" :options=\"chartOptions\" :data=\"chartData\" />\r\n            </q-card>\r\n          </div>\r\n        </q-card-actions>\r\n      </q-card>\r\n    </q-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref } from \"vue\";\r\n//import apiAxios from \"../../axios/index\";\r\nimport {\r\n  required,\r\n  fechaMayor,\r\n  requiredBoolean /*, contarObjeto*/,\r\n} from \"../../helper/validation\";\r\n//import { loadList } from \"../../helper/list\";\r\nimport { useStore } from \"vuex\";\r\nimport apiAxios from \"../../axios/index\";\r\nimport { Bar } from \"vue-chartjs\";\r\nimport {\r\n  Chart as ChartJS,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  BarElement,\r\n  CategoryScale,\r\n  LinearScale,\r\n} from \"chart.js\";\r\nChartJS.register(\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  BarElement,\r\n  CategoryScale,\r\n  LinearScale\r\n);\r\n//import { useRouter } from \"vue-router\";\r\n//import { useQuasar } from \"quasar\";\r\n\r\nexport default {\r\n  components: { Bar },\r\n  setup() {\r\n    const model = ref([]);\r\n    const store = useStore();\r\n    const total = ref();\r\n    //const router = useRouter();\r\n    //const $q = useQuasar();\r\n    const unidades = ref([]);\r\n    const operativo = ref(false);\r\n    const info = ref([]);\r\n    const operativas = ref(0);\r\n    const inoperativas = ref(0);\r\n    const accessToken = store.getters.isGetter(\"isToken\");\r\n\r\n    const chartData = ref({});\r\n\r\n    chartData.value = {\r\n      labels: [\"Operativas\", \"Inoperativa\"],\r\n\r\n      datasets: [\r\n        {\r\n          data: [0, 0],\r\n          label: \"Unidades Operativas\",\r\n        },\r\n      ],\r\n    };\r\n\r\n    // let salidas = [];\r\n\r\n    const action = async () => {\r\n      // console.log(model.value.status);\r\n\r\n      console.log(\"ss\");\r\n\r\n      operativo.value = true;\r\n\r\n      let data = {};\r\n      Object.assign(data, model.value);\r\n\r\n      let options = {\r\n        method: \"POST\",\r\n        data,\r\n      };\r\n\r\n      let url = \"/api/reportes/operatividad\";\r\n\r\n      store.dispatch(\"varMutuacion\", { val: \"isLoading\", valor: true });\r\n\r\n      await apiAxios(url, accessToken, options)\r\n        .then((res) => {\r\n          //  let variable = { val: \"isList\", valor: res.data };\r\n\r\n          Object.assign(model.value, res.data);\r\n\r\n          operativas.value = res.data.operativas;\r\n          inoperativas.value = res.data.inoperativa;\r\n\r\n          console.log(info.value);\r\n\r\n          chartData.value = {\r\n            labels: [\"Operativas\", \"Inoperativa\"],\r\n\r\n            datasets: [\r\n              {\r\n                data: [operativas.value, inoperativas.value],\r\n                label: \"Unidades Operativas\",\r\n              },\r\n            ],\r\n          };\r\n\r\n          /* operativo.value = model.value.idEstado;\r\n          total.value = res.data.length;\r\n\r\n          /* for (let i in res.data) {\r\n            salidas.push(JSON.parse(res.data[i].pvr));\r\n          }\r\n\r\n          for (let x in salidas) {\r\n            // if (x === \"isVariableCondicionSalida\") {\r\n            console.log(\r\n              salidas[x].isVariableCondicionSalida.Carroceria_General,\r\n              salidas[x].isUnidad\r\n            );\r\n            // }\r\n          }*/\r\n        })\r\n        .catch((err) => {\r\n          store.dispatch(\"varMutuacion\", { val: \"msg\", valor: err.message });\r\n        })\r\n        .finally(() => {\r\n          store.dispatch(\"varMutuacion\", { val: \"isLoading\", valor: false });\r\n        });\r\n    };\r\n    action();\r\n    return {\r\n      action,\r\n      model,\r\n      required,\r\n      operativas,\r\n      inoperativas,\r\n      chartData,\r\n      unidades,\r\n      total,\r\n\r\n      operativo,\r\n      fechaMayor,\r\n      requiredBoolean,\r\n\r\n      chartOptions: {\r\n        backgroundColor: \"green\",\r\n        responsive: true,\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./reporteOperatividad.vue?vue&type=template&id=2bdaeef0\"\nimport script from \"./reporteOperatividad.vue?vue&type=script&lang=js\"\nexport * from \"./reporteOperatividad.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QForm from 'quasar/src/components/form/QForm.js';\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QTooltip from 'quasar/src/components/tooltip/QTooltip.js';\nimport QCardActions from 'quasar/src/components/card/QCardActions.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QForm,QCard,QCardSection,QBtn,QTooltip,QCardActions});\n"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_q_form","onSubmit","_withModifiers","$setup","action","_component_q_card","_component_q_card_section","_hoisted_2","_component_q_btn","color","icon","size","to","_component_q_tooltip","_component_q_card_actions","vertical","align","operativo","_hoisted_3","_hoisted_4","_component_Bar","id","options","chartOptions","data","chartData","ChartJS","register","Title","Tooltip","Legend","BarElement","CategoryScale","LinearScale","components","Bar","setup","model","ref","store","useStore","total","unidades","info","operativas","inoperativas","accessToken","getters","isGetter","value","labels","datasets","label","async","console","log","Object","assign","method","url","dispatch","val","valor","apiAxios","then","res","inoperativa","catch","err","message","finally","required","fechaMayor","requiredBoolean","backgroundColor","responsive","__exports__","render","QForm"],"sourceRoot":""}