{"version":3,"file":"js/118.af7ab74d.js","mappings":"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","sources":["webpack://pvr/./src/components/reportes/reporteAveria.vue","webpack://pvr/./src/components/reportes/reporteAveria.vue?a713"],"sourcesContent":["<template>\r\n  <div class=\"q-pa-md\">\r\n    <q-form class=\"q-gutter-md\" @submit.prevent=\"action\">\r\n      <q-card>\r\n        <q-card-section class=\"bg-green text-white\">\r\n          <div class=\"text-h6\">REPORTE HISTORICO DE AVERIAS</div>\r\n          <q-btn color=\"green\" :icon=\"'arrow_back'\" size=\"sm\" to=\"/\">\r\n            <q-tooltip> Atras</q-tooltip></q-btn\r\n          >\r\n        </q-card-section>\r\n      </q-card>\r\n\r\n      <q-card>\r\n        <q-card-actions vertical align=\"center\">\r\n          <div class=\"q-gutter-md row items-start\">\r\n            <q-input\r\n              v-model=\"model.fechaInicio\"\r\n              type=\"date\"\r\n              hint=\"Fecha desde\"\r\n              style=\"width: 150px\"\r\n              :rules=\"[required, (val) => fechaMayor(val, model.fechaFinal)]\"\r\n            />\r\n            <q-input\r\n              v-model=\"model.fechaFinal\"\r\n              type=\"date\"\r\n              hint=\"Fecha desde\"\r\n              style=\"width: 150px\"\r\n              :rules=\"[required, (val) => fechaMayor(model.fechaInicio, val)]\"\r\n            />\r\n          </div>\r\n          <q-card-actions>\r\n            <q-btn size=\"sm\" label=\"Consultar\" color=\"green\" type=\"submit\" />\r\n          </q-card-actions>\r\n\r\n          <q-card>\r\n            <div class=\"text-subtitle2\">\r\n              <b> </b>\r\n            </div>\r\n            <Doughnut :data=\"chartData\" :options=\"options\" />\r\n          </q-card>\r\n        </q-card-actions>\r\n      </q-card>\r\n    </q-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref } from \"vue\";\r\n//import apiAxios from \"../../axios/index\";\r\nimport {\r\n  required,\r\n  fechaMayor,\r\n  requiredBoolean /*, contarObjeto*/,\r\n} from \"../../helper/validation\";\r\n//import { loadList } from \"../../helper/list\";\r\nimport { useStore } from \"vuex\";\r\nimport apiAxios from \"../../axios/index\";\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from \"chart.js\";\r\nimport { Doughnut } from \"vue-chartjs\";\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n//import { useRouter } from \"vue-router\";\r\n//import { useQuasar } from \"quasar\";\r\n\r\nexport default {\r\n  components: { Doughnut },\r\n  setup() {\r\n    const model = ref([]);\r\n    const store = useStore();\r\n    const total = ref();\r\n    //const router = useRouter();\r\n    //const $q = useQuasar();\r\n    const unidades = ref([]);\r\n    const operativo = ref(false);\r\n    const info = ref([]);\r\n    const operativas = ref(0);\r\n    const inoperativas = ref(0);\r\n    const accessToken = store.getters.isGetter(\"isToken\");\r\n\r\n    const chartData = ref({});\r\n\r\n    chartData.value = {\r\n      labels: [\r\n        \"Sistema de Motor\",\r\n        \"Sistema de Neumatico\",\r\n        \"Sistema Hidraulico\",\r\n        \"Carroceria\",\r\n      ],\r\n      datasets: [\r\n        {\r\n          backgroundColor: [\"#41B883\", \"#E46651\", \"#00D8FF\", \"#DD1B16\"],\r\n          data: [0, 0, 0, 0],\r\n        },\r\n      ],\r\n    };\r\n\r\n    // let salidas = [];\r\n\r\n    const action = async () => {\r\n      // console.log(model.value.status);\r\n\r\n      console.log(\"ss\");\r\n\r\n      operativo.value = true;\r\n\r\n      let data = {};\r\n      Object.assign(data, model.value);\r\n\r\n      let options = {\r\n        method: \"POST\",\r\n        data,\r\n      };\r\n\r\n      let url = \"/api/reportes/averia\";\r\n\r\n      store.dispatch(\"varMutuacion\", { val: \"isLoading\", valor: true });\r\n\r\n      await apiAxios(url, accessToken, options)\r\n        .then((res) => {\r\n          //  let variable = { val: \"isList\", valor: res.data };\r\n\r\n          Object.assign(model.value, res.data);\r\n\r\n          console.log(model.value);\r\n\r\n          chartData.value = {\r\n            labels: [\r\n              \"Sistema de Motor\",\r\n              \"Sistema de Neumatico\",\r\n              \"Sistema Hidraulico\",\r\n              \"Carroceria\",\r\n            ],\r\n            datasets: [\r\n              {\r\n                backgroundColor: [\"#41B883\", \"#E46651\", \"#00D8FF\", \"#DD1B16\"],\r\n                data: [\r\n                  model.value.sistemaMotor,\r\n                  model.value.sistemaNeumatico,\r\n                  model.value.sistemaHidraulico,\r\n                  model.value.Carroceria,\r\n                ],\r\n              },\r\n            ],\r\n          };\r\n        })\r\n        .catch((err) => {\r\n          store.dispatch(\"varMutuacion\", { val: \"msg\", valor: err.message });\r\n        })\r\n        .finally(() => {\r\n          store.dispatch(\"varMutuacion\", { val: \"isLoading\", valor: false });\r\n        });\r\n    };\r\n\r\n    return {\r\n      action,\r\n      model,\r\n      required,\r\n      operativas,\r\n      inoperativas,\r\n      chartData,\r\n      unidades,\r\n      total,\r\n\r\n      operativo,\r\n      fechaMayor,\r\n      requiredBoolean,\r\n\r\n      options: {\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./reporteAveria.vue?vue&type=template&id=3ee556da\"\nimport script from \"./reporteAveria.vue?vue&type=script&lang=js\"\nexport * from \"./reporteAveria.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QForm from 'quasar/src/components/form/QForm.js';\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QTooltip from 'quasar/src/components/tooltip/QTooltip.js';\nimport QCardActions from 'quasar/src/components/card/QCardActions.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QForm,QCard,QCardSection,QBtn,QTooltip,QCardActions,QInput});\n"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_q_form","onSubmit","_withModifiers","$setup","action","_component_q_card","_component_q_card_section","_hoisted_2","_component_q_btn","color","icon","size","to","_component_q_tooltip","_component_q_card_actions","vertical","align","_hoisted_3","_component_q_input","model","fechaInicio","$event","type","hint","style","rules","required","val","fechaMayor","fechaFinal","label","_hoisted_4","_component_Doughnut","data","chartData","options","ChartJS","register","ArcElement","Tooltip","Legend","components","Doughnut","setup","ref","store","useStore","total","unidades","operativo","operativas","inoperativas","accessToken","getters","isGetter","value","labels","datasets","backgroundColor","async","console","log","Object","assign","method","url","dispatch","valor","apiAxios","then","res","sistemaMotor","sistemaNeumatico","sistemaHidraulico","Carroceria","catch","err","message","finally","requiredBoolean","responsive","maintainAspectRatio","__exports__","render","QForm"],"sourceRoot":""}