"use strict";(self["webpackChunkpvr"]=self["webpackChunkpvr"]||[]).push([[20],{4669:function(e,a,l){l.r(a),l.d(a,{default:function(){return Qe}});var t=l(9269),i=l(5102);const d={class:"q-pa-md"},r=(0,t._)("div",{class:"text-h6"}," Registro de Planilla de Prevencion Vehicular **ENTRADA*** ",-1),s={class:"text-subtitle2"},o=(0,t._)("b",null,"PVR",-1),n={class:"text-subtitle2"},u=(0,t._)("b",null,"UNIDAD",-1),c=(0,t._)("b",null," CHOFER",-1),m={class:"text-subtitle2"},p=(0,t._)("b",null,"AcompaÃ±antes o Ayudantes",-1),b={class:"text-subtitle2"},v=(0,t._)("b",null,"RUTAS",-1),f={class:"text-subtitle2"},_=(0,t._)("b",null,"SALIDA ",-1),V={class:"text-subtitle2"},h=(0,t._)("b",null,"ENTRADA ",-1),g={class:"text-subtitle2"},x=(0,t._)("b",null,"Observacion ",-1);function E(e,a,l,E,W,y){const A=(0,t.up)("q-tooltip"),C=(0,t.up)("q-btn"),w=(0,t.up)("q-card-section"),S=(0,t.up)("q-card"),q=(0,t.up)("q-separator"),R=(0,t.up)("Iscorrelativo"),U=(0,t.up)("Unidades"),Z=(0,t.up)("Choferes"),O=(0,t.up)("VerificadoresSalida"),T=(0,t.up)("Rutas"),H=(0,t.up)("Verificadores"),G=(0,t.up)("Salidas"),M=(0,t.up)("Entrada"),k=(0,t.up)("Observacion"),D=(0,t.up)("q-card-actions"),Q=(0,t.up)("q-form");return(0,t.wg)(),(0,t.iD)("div",d,[(0,t.Wm)(Q,{class:"q-gutter-md",onSubmit:(0,i.iM)(E.guardar,["prevent"])},{default:(0,t.w5)((()=>[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,{class:"bg-green text-white"},{default:(0,t.w5)((()=>[r,(0,t.Wm)(C,{color:"green",icon:"arrow_back",size:"sm",to:"/entrada"},{default:(0,t.w5)((()=>[(0,t.Wm)(A,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Atras")])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.Wm)(q),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t._)("div",s,[o,(0,t.Wm)(R),(0,t.Wm)(C,{size:"15px",round:"",dense:"",flat:"",color:"black",icon:"note"})]),(0,t.Wm)(q)])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t._)("div",n,[u,(0,t.Wm)(C,{size:"15px",round:"",dense:"",flat:"",color:"black",icon:"add_shopping_cart"})]),(0,t.Wm)(U),(0,t.Wm)(q)])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[c,(0,t.Wm)(C,{size:"15px",round:"",dense:"",flat:"",color:"black",icon:"drive_eta"}),(0,t.Wm)(Z),(0,t.Wm)(q)])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(O)])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t._)("div",m,[p,(0,t.Wm)(C,{size:"15px",round:"",dense:"",flat:"",color:"black",icon:"eject"})])])),_:1}),(0,t.Wm)(q),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t._)("div",b,[v,(0,t.Wm)(C,{size:"15px",round:"",dense:"",flat:"",color:"black",icon:"map"})]),(0,t.Wm)(T)])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Wm)(H)])),_:1}),(0,t.Wm)(q),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t._)("div",f,[_,(0,t.Wm)(S,{class:"my-card",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(G,{modelVariables:"isVariableSalida",modelCondicion:"isVariableCondicionSalida"})])),_:1})]),(0,t._)("div",V,[h,(0,t.Wm)(S,{class:"my-card",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(M,{modelVariables:"isVariableEntrada",modelCondicion:"isVariableCondicionEntrada"})])),_:1})])])),_:1}),(0,t.Wm)(q),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t._)("div",g,[x,(0,t.Wm)(S,{class:"my-card",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k)])),_:1})])])),_:1}),(0,t.Wm)(D,{vertical:"",align:"center"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{size:"sm",color:"red",type:"submit",label:E.label,disable:E.buttonDisabled},null,8,["label","disable"])])),_:1})])),_:1},8,["onSubmit"])])}var W=l(6957),y=l(6237),A=l(3133);const C={class:"q-gutter-md row items-start"},w=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",{class:"text-left"},[(0,t._)("b",null,"CONDICIONES EN QUE")]),(0,t._)("th",{class:"text-center"},[(0,t._)("b",null,"ENTRA")])])],-1),S=(0,t._)("td",{class:"text-left"},"FECHA",-1),q={class:"text-center"},R=(0,t._)("td",{class:"text-center"},null,-1),U=(0,t._)("td",{class:"text-left"},"HORA",-1),Z={class:"text-center"},O=(0,t._)("td",{class:"text-center"},null,-1),T=(0,t._)("td",{class:"text-left"},"KILOMETRAJE",-1),H={class:"text-right"},G=(0,t._)("td",{class:"text-right"},null,-1),M=(0,t._)("td",{class:"text-left"},"GASOLINA/GASOIL",-1),k={class:"text-right"},D=(0,t._)("td",{class:"text-right"},null,-1),Q=(0,t._)("td",{class:"text-left"},"ACEITE MOTOR",-1),I={class:"text-right"},N=(0,t._)("td",{class:"text-right"},null,-1),L=(0,t._)("td",{class:"text-left"},"ACEITE HIDDRAULICO",-1),j={class:"text-right"},F=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th"),(0,t._)("th",{colspan:"4"},[(0,t._)("b",null,"ENTRADA")])]),(0,t._)("tr",null,[(0,t._)("th",{scope:"col"},"Seleccione"),(0,t._)("th",null,"B"),(0,t._)("th",null,"M"),(0,t._)("th",null,"R"),(0,t._)("th",null,"N/A")])],-1);function z(e,a,l,i,d,r){const s=(0,t.up)("q-input"),o=(0,t.up)("q-markup-table"),n=(0,t.up)("q-separator"),u=(0,t.up)("CAUCHO");return(0,t.wg)(),(0,t.iD)("div",C,[(0,t.Wm)(o,{separator:"cell",flat:"",bordered:""},{default:(0,t.w5)((()=>[w,(0,t._)("tbody",null,[(0,t._)("tr",null,[S,(0,t._)("td",q,[(0,t.Wm)(s,{type:"date",modelValue:i.model.fechaEntrada,"onUpdate:modelValue":[a[0]||(a[0]=e=>i.model.fechaEntrada=e),a[1]||(a[1]=e=>i.save("isVariableEntrada"))],style:{width:"120px",padding:"0px"},rules:[i.required]},null,8,["modelValue","rules"])]),R]),(0,t._)("tr",null,[U,(0,t._)("td",Z,[(0,t.Wm)(s,{type:"time",modelValue:i.model.horaEntrada,"onUpdate:modelValue":[a[2]||(a[2]=e=>i.model.horaEntrada=e),a[3]||(a[3]=e=>i.save("isVariableEntrada"))],style:{width:"120px",padding:"0px"},rules:[i.required]},null,8,["modelValue","rules"])]),O]),(0,t._)("tr",null,[T,(0,t._)("td",H,[(0,t.Wm)(s,{type:"number",style:{width:"150px",padding:"0px"},modelValue:i.model.kmEntrada,"onUpdate:modelValue":[a[4]||(a[4]=e=>i.model.kmEntrada=e),a[5]||(a[5]=e=>i.save("isVariableEntrada"))],rules:[i.required]},null,8,["modelValue","rules"])]),G]),(0,t._)("tr",null,[M,(0,t._)("td",k,[(0,t.Wm)(s,{modelValue:i.model.GsEntrada,"onUpdate:modelValue":[a[6]||(a[6]=e=>i.model.GsEntrada=e),a[7]||(a[7]=e=>i.save("isVariableEntrada"))],rules:[i.required],style:{width:"150px",padding:"0px"}},null,8,["modelValue","rules"])]),D]),(0,t._)("tr",null,[Q,(0,t._)("td",I,[(0,t.Wm)(s,{style:{width:"150px",padding:"0px"},modelValue:i.model.aceiteMotorEntrada,"onUpdate:modelValue":[a[8]||(a[8]=e=>i.model.aceiteMotorEntrada=e),a[9]||(a[9]=e=>i.save("isVariableEntrada"))],rules:[i.required]},null,8,["modelValue","rules"])]),N]),(0,t._)("tr",null,[L,(0,t._)("td",j,[(0,t.Wm)(s,{style:{width:"150px",padding:"15px"},modelValue:i.model.aceiteHidraEntrada,"onUpdate:modelValue":[a[10]||(a[10]=e=>i.model.aceiteHidraEntrada=e),a[11]||(a[11]=e=>i.save("isVariableEntrada"))],rules:[i.required]},null,8,["modelValue","rules"])])])])])),_:1}),(0,t.Wm)(n),(0,t.Wm)(o,{separator:"cell",flat:"",bordered:""},{default:(0,t.w5)((()=>[F,(0,t.Wm)(u,{tittle:"Caucho"}),(0,t.Wm)(u,{tittle:"Carroceria_General"}),(0,t.Wm)(u,{tittle:"Faros_delantero"}),(0,t.Wm)(u,{tittle:"parachoque"}),(0,t.Wm)(u,{tittle:"Tapade_Combustible"}),(0,t.Wm)(u,{tittle:"Espejos"}),(0,t.Wm)(u,{tittle:"Luces_Transeras"}),(0,t.Wm)(u,{tittle:"Extintor"}),(0,t.Wm)(u,{tittle:"Triangulo"})])),_:1})])}var B=l(2201),P=l(8686),$=l(3201);const K={style:{padding:"0px"}},J={style:{padding:"0px"}},X={style:{padding:"0px"}},Y={style:{padding:"0px"}},ee={style:{padding:"0px"}};function ae(e,a,l,i,d,r){const s=(0,t.up)("q-input");return(0,t.wg)(),(0,t.iD)("tbody",null,[(0,t._)("tr",null,[(0,t._)("th",K,(0,$.zw)(l.tittle),1),(0,t._)("td",J,[(0,t.Wm)(s,{modelValue:i.model.B,"onUpdate:modelValue":[a[0]||(a[0]=e=>i.model.B=e),a[1]||(a[1]=e=>i.save(i.model.B,"B"))],style:{"max-width":"40px"},maxlength:"2"},null,8,["modelValue"])]),(0,t._)("td",X,[(0,t.Wm)(s,{modelValue:i.model.M,"onUpdate:modelValue":[a[2]||(a[2]=e=>i.model.M=e),a[3]||(a[3]=e=>i.save(i.model.M,"M"))],style:{"max-width":"40px"},maxlength:"2"},null,8,["modelValue"])]),(0,t._)("td",Y,[(0,t.Wm)(s,{modelValue:i.model.R,"onUpdate:modelValue":[a[4]||(a[4]=e=>i.model.R=e),a[5]||(a[5]=e=>i.save(i.model.R,"R"))],style:{"max-width":"40px"},maxlength:"2"},null,8,["modelValue"])]),(0,t._)("td",ee,[(0,t.Wm)(s,{modelValue:i.model.NA,"onUpdate:modelValue":[a[6]||(a[6]=e=>i.model.NA=e),a[7]||(a[7]=e=>i.save(i.model.NA,"NA"))],style:{"max-width":"40px"},maxlength:"2"},null,8,["modelValue"])])])])}var le={components:{},props:["tittle"],setup(e){const a=(0,y.iH)({}),l=(0,y.iH)([e.tittle]),t=(0,y.iH)(e.tittle),i=(0,B.yj)(),d=i.name,r={B:"",M:"",R:"",NA:""},s=(0,W.oR)();if(!s.getters.isAction.data){let e={val:"isVariableCondicionEntrada",valor:{Caucho:r,Carroceria_General:r,Faros_delantero:r,parachoque:r,Tapade_Combustible:r,Espejos:r,Luces_Transeras:r,Extintor:r,Triangulo:r}};s.dispatch("varMutuacion",e)}s.getters.isAction.data.isVariableCondicionEntrada&&(a.value=s.getters.isGetter("isVariableCondicionEntrada")[t.value]);const o=(l,t)=>{console.log("validar ",(0,P.b0)(l)),!1===(0,P.b0)(l)&&(a.value[t]="");let i={},d=e.tittle;i[d]={...a.value};let r={val:"isVariableCondicionEntrada",valor:i,key:d};s.dispatch("varMutuacionArray",r)};return{model:a,save:o,required:P.C1,tittleSalida:l,visibleEntrada:d}}},te=l(7617),ie=l(6931),de=l(1410),re=l.n(de);const se=(0,te.Z)(le,[["render",ae]]);var oe=se;re()(le,"components",{QInput:ie.Z});var ne={components:{CAUCHO:oe},props:["modelVariables","modelCondicion","validacion"],setup(e){const a=(0,y.iH)([]),l=(0,B.yj)(),i=l.name,d=(0,W.oR)();let r=e.modelVariables,s=e.modelCondicion,o=e.validacion;(0,t.m0)((()=>{d.getters.isAction.data&&(a.value=d.getters.isGetter(r))}));const n=e=>{let l={};l={...a.value};let t={val:e,valor:l};d.dispatch("varMutuacion",t)};return{model:a,shepe:(0,y.iH)("N/A"),save:n,required:P.C1,valida:o,visibleEntrada:i,valueCondicion:s}}},ue=l(4982),ce=l(4492);const me=(0,te.Z)(ne,[["render",z]]);var pe=me;re()(ne,"components",{QMarkupTable:ue.Z,QInput:ie.Z,QSeparator:ce.Z});var be=l(6668),ve=l(3938),fe=l(6739),_e=l(9006),Ve=l(4336);const he={class:"q-pa-md"},ge=(0,t._)("div",{class:"text-h6 q-mb-xs"},"Datos del Verificador Entrada",-1),xe={class:"q-gutter-md row items-start"};function Ee(e,a,l,i,d,r){const s=(0,t.up)("q-separator"),o=(0,t.up)("q-select"),n=(0,t.up)("q-input"),u=(0,t.up)("q-card");return(0,t.wg)(),(0,t.iD)("div",he,[(0,t.Wm)(u,{class:"my-card",flat:"",bordered:""},{default:(0,t.w5)((()=>[ge,(0,t.Wm)(s),(0,t._)("div",xe,[(0,t.Wm)(o,{filled:"",modelValue:i.model,"onUpdate:modelValue":[a[0]||(a[0]=e=>i.model=e),i.showChannel],"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:i.options,onFilter:i.filterFn,hint:"Indique Cedula",style:{width:"250px","padding-bottom":"32px"},rules:[i.required]},null,8,["modelValue","options","onFilter","onUpdate:modelValue","rules"]),(0,t.Wm)(n,{modelValue:i.model.nombreApellido,"onUpdate:modelValue":a[1]||(a[1]=e=>i.model.nombreApellido=e),readonly:"readonly",type:"text",label:"Nombre",style:{width:"100px"}},null,8,["modelValue"]),(0,t.Wm)(n,{modelValue:i.model.telefono,"onUpdate:modelValue":a[2]||(a[2]=e=>i.model.telefono=e),readonly:"readonly",type:"text",label:"Telefono",style:{width:"100px"}},null,8,["modelValue"])])])),_:1})])}var We=l(6876),ye={setup(){const e=(0,y.iH)([]),a=(0,W.oR)(),l=(0,y.iH)(!0),t=(0,y.iH)([]);a.getters.isAction.data&&(t.value=a.getters.isGetter("isVerificador"));let i={method:"POST"};(0,We.bQ)("/api/verificadores/All",i).then((a=>e.value=a.data.map((function(e){return{value:e.cedula,label:`${e.nombreApellido.toLowerCase()}`}}))));const d=(0,y.iH)(e.value),r=async e=>{console.log(e),await(0,We.bQ)(`/api/verificadoresCedula/${e.value}`,"GET").then((e=>{Object.assign(t.value,e.data[0]);let l={val:"isVerificador",valor:t.value};a.dispatch("varMutuacion",l);let{lastname:i,firstname:d,firma:r}=a.getters.isGetter("isToken"),s={lastname:i,firstname:d,firma:r};l={val:"isUsuario",valor:s},a.dispatch("varMutuacion",l)}))};return{filterFn(a,l,t){l((()=>{const l=a.toLowerCase();d.value=e.value.filter((e=>e.label.indexOf(l)>-1))}))},options:d,model:t,required:P.C1,showChannel:r,isDisable:l}}},Ae=l(8055),Ce=l(8582);const we=(0,te.Z)(ye,[["render",Ee]]);var Se=we;re()(ye,"components",{QCard:Ae.Z,QSeparator:ce.Z,QSelect:Ce.Z,QInput:ie.Z});var qe=l(3352),Re=l(7941),Ue=l(1825),Ze=l(5999),Oe={components:{Choferes:ve.Z,Unidades:fe.Z,Verificadores:Se,VerificadoresSalida:qe.Z,Rutas:Ve.Z,Salidas:A.Z,Entrada:pe,Iscorrelativo:_e.Z,Observacion:be.Z},setup(){const e=(0,W.oR)(),a=(0,Ze.Z)(),l=(0,y.iH)(!1),i=(0,y.iH)("Guardar"),d=(0,B.yj)(),r=d.name,s=(0,y.iH)(!1),o=(0,y.iH)(!1),n={};let u="status",c=!0;if(e.getters.isAction.data){Object.assign(n,e.getters.isAction);let a={...e.getters.isAction.data},{pvr:t}=a;"Eliminar"!=i.value&&(o.value=n.disabled,i.value=n.label),l.value=n.disabled,Object.entries(t).forEach((([a,l])=>{e.dispatch("varMutuacion",{val:a,valor:l})})),"entradaAdd"===d.name&&(i.value="Cerrar PVR",c=!1)}const m=async()=>{let l=e.getters.isGetter("isUnidad").unidad;if(e.getters.isAction.data||await(0,We.tw)(`/api/salidas/pvrStatus/${l}`,"GET").then((e=>{s.value=e.data})),console.log(s.value),!0===s.value)a.notify({type:"negative",message:"La unidad Tiene un PVR Abierto."});else{e.dispatch("varMutuacion",{val:u,valor:c});const{confirm:l}=(0,Re.Z)();let i={},d={},{pvr:r}=e.getters.isData(),{isVariableCondicionEntrada:s,isVariableCondicionSalida:o,isVariableEntrada:m,isVariableSalida:p,isObservacion:b,isUsuarioSalida:v,isUsuario:f,isListAyudante:_}=r;i={marca:r.isUnidad.marca,isChofer:{nombreApellido:r.isChofer.nombreApellido,cedula:r.isChofer.cedula,telefono:r.isChofer.telefono,firma:`${r.isChofer.cedula}.png`},isRuta:{codRuta:r.isRuta.codRuta,idSupervisor:r.isRuta.idSupervisor},isVerificadorSalida:{nombreApellido:r.isVerificadorSalida.nombreApellido,cedula:r.isVerificadorSalida.cedula,firma:`${r.isVerificadorSalida.cedula}.png`},isVerificadorEntrada:{nombreApellido:r.isVerificador.nombreApellido,cedula:r.isVerificador.cedula,firma:`${r.isVerificador.cedula}.png`},isUsuarioSalida:v,isUsuario:f,isVariableCondicionEntrada:s,isVariableCondicionSalida:o,isVariableEntrada:m,isVariableSalida:p,isObservacion:b,isListAyudante:_},Object.assign(d,e.getters.isData()),d.pvr=i;let V,h=e.getters.isGetter("isVariableSalida").fechaSalida,g=e.getters.isGetter("isVariableEntrada").fechaEntrada,x=e.getters.isGetter("isVariableSalida").horaSalida,E=e.getters.isGetter("isVariableEntrada").horaEntrada,W=e.getters.isGetter("isVariableSalida").kmSalida;(0,t.m0)((()=>{W&&(V=e.getters.isGetter("isVariableEntrada").kmEntrada)})),g<h?(a.notify({type:"negative",message:"La Fecha de la Entrada tiene que ser mayor que la Fecha de la Salida "}),E<x&&a.notify({type:"negative",message:"La hora de la Entrada tiene que ser mayor que la hora de la Salida "})):W>V?a.notify({type:"negative",message:"La Kilometraje de la Entrada tiene que ser mayor al KM de la Salida "}):a.notify(l(d,n,Ue.f))}};return{guardar:m,label:i,visibleEntrada:r,buttonDisabled:o}}},Te=l(3276),He=l(9501),Ge=l(9804),Me=l(4806),ke=l(4333);const De=(0,te.Z)(Oe,[["render",E]]);var Qe=De;re()(Oe,"components",{QForm:Te.Z,QCard:Ae.Z,QCardSection:He.Z,QBtn:Ge.Z,QTooltip:Me.Z,QSeparator:ce.Z,QCardActions:ke.Z})}}]);
//# sourceMappingURL=20.fef23ec3.js.map