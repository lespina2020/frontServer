"use strict";(self["webpackChunkpvr"]=self["webpackChunkpvr"]||[]).push([[945],{2253:function(e,l,a){a.d(l,{ZP:function(){return p},ZB:function(){return v},Fz:function(){return m}});a(4719);var o=a(9269),t=a(6237),n=a(6597),i=a(505);function u(e,l){const a=(0,t.iH)(null),n=(0,o.Fl)((()=>!0===e.disable?null:(0,o.h)("span",{ref:a,class:"no-outline",tabindex:-1})));function i(e){const o=l.value;void 0!==e&&0===e.type.indexOf("key")?null!==o&&document.activeElement!==o&&!0===o.contains(document.activeElement)&&o.focus():null!==a.value&&(void 0===e||null!==o&&!0===o.contains(e.target))&&a.value.focus()}return{refocusTargetEl:n,refocusTarget:i}}var r=a(9724),d={xs:30,sm:35,md:40,lg:50,xl:60},s=a(3027),c=a(64);const m={...n.S,...i.LU,...r.Fz,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>"tf"===e||"ft"===e},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},v=["update:modelValue"];function p(e,l){const{props:a,slots:m,emit:v,proxy:p}=(0,o.FN)(),{$q:f}=p,g=(0,n.Z)(a,f),b=(0,t.iH)(null),{refocusTargetEl:h,refocusTarget:V}=u(a,b),y=(0,i.ZP)(a,d),q=(0,o.Fl)((()=>void 0!==a.val&&Array.isArray(a.modelValue))),k=(0,o.Fl)((()=>{const e=(0,t.IU)(a.val);return!0===q.value?a.modelValue.findIndex((l=>(0,t.IU)(l)===e)):-1})),w=(0,o.Fl)((()=>!0===q.value?k.value>-1:(0,t.IU)(a.modelValue)===(0,t.IU)(a.trueValue))),S=(0,o.Fl)((()=>!0===q.value?-1===k.value:(0,t.IU)(a.modelValue)===(0,t.IU)(a.falseValue))),Z=(0,o.Fl)((()=>!1===w.value&&!1===S.value)),_=(0,o.Fl)((()=>!0===a.disable?-1:a.tabindex||0)),x=(0,o.Fl)((()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(!0===a.disable?" disabled":"")+(!0===g.value?` q-${e}--dark`:"")+(!0===a.dense?` q-${e}--dense`:"")+(!0===a.leftLabel?" reverse":""))),F=(0,o.Fl)((()=>{const l=!0===w.value?"truthy":!0===S.value?"falsy":"indet",o=void 0===a.color||!0!==a.keepColor&&("toggle"===e?!0!==w.value:!0===S.value)?"":` text-${a.color}`;return`q-${e}__inner relative-position non-selectable q-${e}__inner--${l}${o}`})),C=(0,o.Fl)((()=>{const e={type:"checkbox"};return void 0!==a.name&&Object.assign(e,{".checked":w.value,"^checked":!0===w.value?"checked":void 0,name:a.name,value:!0===q.value?a.val:a.trueValue}),e})),I=(0,r.eX)(C),U=(0,o.Fl)((()=>{const l={tabindex:_.value,role:"toggle"===e?"switch":"checkbox","aria-label":a.label,"aria-checked":!0===Z.value?"mixed":!0===w.value?"true":"false"};return!0===a.disable&&(l["aria-disabled"]="true"),l}));function E(e){void 0!==e&&((0,s.NS)(e),V(e)),!0!==a.disable&&v("update:modelValue",W(),e)}function W(){if(!0===q.value){if(!0===w.value){const e=a.modelValue.slice();return e.splice(k.value,1),e}return a.modelValue.concat([a.val])}if(!0===w.value){if("ft"!==a.toggleOrder||!1===a.toggleIndeterminate)return a.falseValue}else{if(!0!==S.value)return"ft"!==a.toggleOrder?a.trueValue:a.falseValue;if("ft"===a.toggleOrder||!1===a.toggleIndeterminate)return a.trueValue}return a.indeterminateValue}function Q(e){13!==e.keyCode&&32!==e.keyCode||(0,s.NS)(e)}function $(e){13!==e.keyCode&&32!==e.keyCode||E(e)}const T=l(w,Z);return Object.assign(p,{toggle:E}),()=>{const l=T();!0!==a.disable&&I(l,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const t=[(0,o.h)("div",{class:F.value,style:y.value,"aria-hidden":"true"},l)];null!==h.value&&t.push(h.value);const n=void 0!==a.label?(0,c.vs)(m.default,[a.label]):(0,c.KR)(m.default);return void 0!==n&&t.push((0,o.h)("div",{class:`q-${e}__label q-anchor--skip`},n)),(0,o.h)("div",{ref:b,class:x.value,...U.value,onClick:E,onKeydown:Q,onKeyup:$},t)}}},6362:function(e,l,a){var o=a(9269),t=a(4633),n=a(2253),i=a(3856);l.Z=(0,i.L)({name:"QToggle",props:{...n.Fz,icon:String,iconColor:String},emits:n.ZB,setup(e){function l(l,a){const n=(0,o.Fl)((()=>(!0===l.value?e.checkedIcon:!0===a.value?e.indeterminateIcon:e.uncheckedIcon)||e.icon)),i=(0,o.Fl)((()=>!0===l.value?e.iconColor:null));return()=>[(0,o.h)("div",{class:"q-toggle__track"}),(0,o.h)("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},void 0!==n.value?[(0,o.h)(t.Z,{name:n.value,color:i.value})]:void 0)]}return(0,n.ZP)("toggle",l)}})},6876:function(e,l,a){a.d(l,{XI:function(){return m},Y2:function(){return d},bQ:function(){return r},tw:function(){return c},yC:function(){return s}});a(4719);var o=a(872),t=a(4881),n=a(4010);let i=JSON.parse(localStorage.getItem("token")),{accessToken:u}=i;console.log(u);const r=async(e,l)=>{let a;return await(0,o.Z)(e,u,l).then((e=>{a=e})).catch((e=>{console.log(e),"Request failed with status code 401"===e.message&&(localStorage.clear(),n.Z.go("/login"))})),a},d=(e,l,a,o)=>{console.log(e,l);let n=a,i=n?.toString(),u={url:o.paginacion,options:{method:o.GET},params:{page:l,size:10,title:i,base:e.tabla,varPagina:e.varPaginacion}};t.Z.dispatch("loadList",u)},s=(e,l,a)=>{if(e){let t=e.toString();if(t!=a&&""!=e){let a=l,t={method:"GET"};return new Promise((l=>{setTimeout((()=>{(0,o.Z)(`${a}${e}`,u,t).then((e=>{let a=e.data;l(!a.length||"*  ya existe")})).catch((e=>{"Request failed with status code 401"===e.message&&(localStorage.clear(),n.Z.push("/login"))}))}),1e3)}))}}},c=async(e,l)=>await(0,o.Z)(e,u,l),m=[{id:1,tipoUsuario:"operador"},{id:2,tipoUsuario:"administrador"}]},8945:function(e,l,a){a.r(l),a.d(l,{default:function(){return H}});var o=a(9269),t=a(5102);const n={class:"q-pa-md"},i={class:"row"},u={class:"contenido"},r={class:"contenido"},d={class:"contenido"},s={class:"contenido"},c={class:"contenido"},m={class:"q-pa-md q-gutter-sm"},v=(0,o._)("b",null,"Observacion ",-1);function p(e,l,a,p,f,g){const b=(0,o.up)("q-tooltip"),h=(0,o.up)("q-btn"),V=(0,o.up)("q-card-section"),y=(0,o.up)("q-select"),q=(0,o.up)("q-input"),k=(0,o.up)("q-editor"),w=(0,o.up)("q-toggle"),S=(0,o.up)("q-card-actions"),Z=(0,o.up)("q-separator"),_=(0,o.up)("q-form"),x=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(x,{class:"my-card",flat:"",bordered:""},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{class:"bg-green text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{color:"green",icon:"arrow_back",size:"sm",to:"/averias"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Atras")])),_:1})])),_:1}),(0,o.Uk)("Averias ")])),_:1}),(0,o.Wm)(_,{ref:"myForm",onSubmit:(0,t.iM)(p.action,["prevent"])},{default:(0,o.w5)((()=>[(0,o.Wm)(S,null,{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o._)("div",u,[(0,o.Wm)(y,{modelValue:p.model.unidad,"onUpdate:modelValue":l[0]||(l[0]=e=>p.model.unidad=e),hint:"Unidad",style:{width:"150px"},options:p.unidades,"option-value":"unidad","option-label":"unidad","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,o._)("div",r,[(0,o.Wm)(y,{modelValue:p.model.chofer,"onUpdate:modelValue":l[1]||(l[1]=e=>p.model.chofer=e),hint:"Chofer",style:{width:"150px"},options:p.choferes,"option-value":"chofer","option-label":"chofer","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,o._)("div",d,[(0,o.Wm)(y,{modelValue:p.model.averia,"onUpdate:modelValue":l[2]||(l[2]=e=>p.model.averia=e),hint:"Averia",style:{width:"150px"},options:p.av,"option-value":"averia","option-label":"averia","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,o._)("div",s,[(0,o.Wm)(q,{type:"time",modelValue:p.model.hora,"onUpdate:modelValue":l[3]||(l[3]=e=>p.model.hora=e),style:{width:"120px"},rules:[p.required]},null,8,["modelValue","rules"])]),(0,o._)("div",c,[(0,o.Wm)(q,{type:"date",modelValue:p.model.fecha,"onUpdate:modelValue":l[4]||(l[4]=e=>p.model.fecha=e),style:{width:"120px"},rules:[p.required]},null,8,["modelValue","rules"])]),(0,o._)("div",m,[v,(0,o.Wm)(k,{modelValue:p.model.observacion,"onUpdate:modelValue":l[5]||(l[5]=e=>p.model.observacion=e),definitions:{bold:{label:"Bold",icon:null,tip:"My bold tooltip"}}},null,8,["modelValue"])]),(0,o.Wm)(w,{name:"fueraServicio",modelValue:p.idEstado,"onUpdate:modelValue":l[6]||(l[6]=e=>p.idEstado=e),color:"red",label:"En Servicio",disable:p.isDisabled},null,8,["modelValue","disable"])])])),_:1}),(0,o.Wm)(Z),(0,o.Wm)(S,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,{size:"sm",color:"red",disable:p.buttonDisabled,type:"submit",label:p.label},null,8,["disable","label"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])}var f=a(6237),g=a(6876),b=a(8686),h=a(7941),V=a(1825),y=a(5999),q=a(6957),k={setup(){const e=(0,f.iH)([]),l=(0,q.oR)(),a=(0,f.iH)(null),o={},t=(0,f.iH)(!1),n=(0,f.iH)(!1),i=(0,f.iH)([]),u=(0,f.iH)([]),r=(0,f.iH)(!1),d=(0,y.Z)(),s=(0,f.iH)("Guardar"),c=(0,f.iH)("");let m={method:"POST"};(0,g.bQ)("/api/vehiculo/All",m).then((e=>i.value=e.data.map((function(e){return{unidad:`${e.unidad}`}})))),(0,g.bQ)("/api/choferes/All",m).then((e=>u.value=e.data.map((function(e){return{chofer:`${e.nombreApellido}`}}))));const v=[{averia:"Sistema de Motor"},{averia:"Sistema de Neumatico"},{averia:"Sistema Hidraulico"},{averia:"Carroceria"}];l.getters.isGetter("isAction").data&&(Object.assign(o,l.getters.isGetter("isAction")),console.log(l.getters.isGetter("isAction").data),e.value=o.data[0],s.value=o.label,n.value=e.value.idEstado,console.log(e.value.idEstado),"Eliminar"!=s.value&&(r.value=o.disabled),t.value=o.disabled);const p=()=>{let l={};e.value.idEstado=n.value,console.log(l.idEstado),Object.assign(l,e.value);const{confirm:a}=(0,h.Z)();console.log(l),d.notify(a(l,o,V.Tw))};return{model:e,search:g.yC,action:p,myForm:a,isDisabled:t,buttonDisabled:r,required:b.C1,cedula:c,label:s,unidades:i,idEstado:n,choferes:u,av:v}}},w=a(7617),S=a(8055),Z=a(9501),_=a(9804),x=a(4806),F=a(3276),C=a(4333),I=a(8582),U=a(6931),E=a(6291),W=a(6362),Q=a(4492),$=a(1410),T=a.n($);const A=(0,w.Z)(k,[["render",p]]);var H=A;T()(k,"components",{QCard:S.Z,QCardSection:Z.Z,QBtn:_.Z,QTooltip:x.Z,QForm:F.Z,QCardActions:C.Z,QSelect:I.Z,QInput:U.Z,QEditor:E.Z,QToggle:W.Z,QSeparator:Q.Z})}}]);
//# sourceMappingURL=945.3b2a85fd.js.map