"use strict";(self["webpackChunkpvr"]=self["webpackChunkpvr"]||[]).push([[566],{2253:function(e,l,a){a.d(l,{ZP:function(){return p},ZB:function(){return v},Fz:function(){return m}});a(4719);var o=a(9269),t=a(6237),n=a(6597),i=a(505);function u(e,l){const a=(0,t.iH)(null),n=(0,o.Fl)((()=>!0===e.disable?null:(0,o.h)("span",{ref:a,class:"no-outline",tabindex:-1})));function i(e){const o=l.value;void 0!==e&&0===e.type.indexOf("key")?null!==o&&document.activeElement!==o&&!0===o.contains(document.activeElement)&&o.focus():null!==a.value&&(void 0===e||null!==o&&!0===o.contains(e.target))&&a.value.focus()}return{refocusTargetEl:n,refocusTarget:i}}var r=a(9724),d={xs:30,sm:35,md:40,lg:50,xl:60},s=a(3027),c=a(64);const m={...n.S,...i.LU,...r.Fz,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>"tf"===e||"ft"===e},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},v=["update:modelValue"];function p(e,l){const{props:a,slots:m,emit:v,proxy:p}=(0,o.FN)(),{$q:b}=p,g=(0,n.Z)(a,b),f=(0,t.iH)(null),{refocusTargetEl:h,refocusTarget:V}=u(a,f),q=(0,i.ZP)(a,d),y=(0,o.Fl)((()=>void 0!==a.val&&Array.isArray(a.modelValue))),k=(0,o.Fl)((()=>{const e=(0,t.IU)(a.val);return!0===y.value?a.modelValue.findIndex((l=>(0,t.IU)(l)===e)):-1})),_=(0,o.Fl)((()=>!0===y.value?k.value>-1:(0,t.IU)(a.modelValue)===(0,t.IU)(a.trueValue))),Z=(0,o.Fl)((()=>!0===y.value?-1===k.value:(0,t.IU)(a.modelValue)===(0,t.IU)(a.falseValue))),S=(0,o.Fl)((()=>!1===_.value&&!1===Z.value)),w=(0,o.Fl)((()=>!0===a.disable?-1:a.tabindex||0)),C=(0,o.Fl)((()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(!0===a.disable?" disabled":"")+(!0===g.value?` q-${e}--dark`:"")+(!0===a.dense?` q-${e}--dense`:"")+(!0===a.leftLabel?" reverse":""))),F=(0,o.Fl)((()=>{const l=!0===_.value?"truthy":!0===Z.value?"falsy":"indet",o=void 0===a.color||!0!==a.keepColor&&("toggle"===e?!0!==_.value:!0===Z.value)?"":` text-${a.color}`;return`q-${e}__inner relative-position non-selectable q-${e}__inner--${l}${o}`})),I=(0,o.Fl)((()=>{const e={type:"checkbox"};return void 0!==a.name&&Object.assign(e,{".checked":_.value,"^checked":!0===_.value?"checked":void 0,name:a.name,value:!0===y.value?a.val:a.trueValue}),e})),U=(0,r.eX)(I),x=(0,o.Fl)((()=>{const l={tabindex:w.value,role:"toggle"===e?"switch":"checkbox","aria-label":a.label,"aria-checked":!0===S.value?"mixed":!0===_.value?"true":"false"};return!0===a.disable&&(l["aria-disabled"]="true"),l}));function W(e){void 0!==e&&((0,s.NS)(e),V(e)),!0!==a.disable&&v("update:modelValue",Q(),e)}function Q(){if(!0===y.value){if(!0===_.value){const e=a.modelValue.slice();return e.splice(k.value,1),e}return a.modelValue.concat([a.val])}if(!0===_.value){if("ft"!==a.toggleOrder||!1===a.toggleIndeterminate)return a.falseValue}else{if(!0!==Z.value)return"ft"!==a.toggleOrder?a.trueValue:a.falseValue;if("ft"===a.toggleOrder||!1===a.toggleIndeterminate)return a.trueValue}return a.indeterminateValue}function E(e){13!==e.keyCode&&32!==e.keyCode||(0,s.NS)(e)}function H(e){13!==e.keyCode&&32!==e.keyCode||W(e)}const $=l(_,S);return Object.assign(p,{toggle:W}),()=>{const l=$();!0!==a.disable&&U(l,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const t=[(0,o.h)("div",{class:F.value,style:q.value,"aria-hidden":"true"},l)];null!==h.value&&t.push(h.value);const n=void 0!==a.label?(0,c.vs)(m.default,[a.label]):(0,c.KR)(m.default);return void 0!==n&&t.push((0,o.h)("div",{class:`q-${e}__label q-anchor--skip`},n)),(0,o.h)("div",{ref:f,class:C.value,...x.value,onClick:W,onKeydown:E,onKeyup:H},t)}}},6362:function(e,l,a){var o=a(9269),t=a(4633),n=a(2253),i=a(3856);l.Z=(0,i.L)({name:"QToggle",props:{...n.Fz,icon:String,iconColor:String},emits:n.ZB,setup(e){function l(l,a){const n=(0,o.Fl)((()=>(!0===l.value?e.checkedIcon:!0===a.value?e.indeterminateIcon:e.uncheckedIcon)||e.icon)),i=(0,o.Fl)((()=>!0===l.value?e.iconColor:null));return()=>[(0,o.h)("div",{class:"q-toggle__track"}),(0,o.h)("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},void 0!==n.value?[(0,o.h)(t.Z,{name:n.value,color:i.value})]:void 0)]}return(0,n.ZP)("toggle",l)}})},6876:function(e,l,a){a.d(l,{XI:function(){return m},Y2:function(){return d},bQ:function(){return r},tw:function(){return c},yC:function(){return s}});a(4719);var o=a(872),t=a(4881),n=a(4010);let i=JSON.parse(localStorage.getItem("token")),{accessToken:u}=i;console.log(u);const r=async(e,l)=>{let a;return await(0,o.Z)(e,u,l).then((e=>{a=e})).catch((e=>{console.log(e),"Request failed with status code 401"===e.message&&(localStorage.clear(),n.Z.go("/login"))})),a},d=(e,l,a,o)=>{console.log(e,l);let n=a,i=n?.toString(),u={url:o.paginacion,options:{method:o.GET},params:{page:l,size:10,title:i,base:e.tabla,varPagina:e.varPaginacion}};t.Z.dispatch("loadList",u)},s=(e,l,a)=>{if(e){let t=e.toString();if(t!=a&&""!=e){let a=l,t={method:"GET"};return new Promise((l=>{setTimeout((()=>{(0,o.Z)(`${a}${e}`,u,t).then((e=>{let a=e.data;l(!a.length||"*  ya existe")})).catch((e=>{"Request failed with status code 401"===e.message&&(localStorage.clear(),n.Z.push("/login"))}))}),1e3)}))}}},c=async(e,l)=>await(0,o.Z)(e,u,l),m=[{id:1,tipoUsuario:"operador"},{id:2,tipoUsuario:"administrador"}]},4566:function(e,l,a){a.r(l),a.d(l,{default:function(){return $}});var o=a(9269),t=a(5102);const n={class:"q-pa-md"},i={class:"row"},u={class:"contenido"},r={class:"contenido"},d={class:"contenido"},s={class:"contenido"};function c(e,l,a,c,m,v){const p=(0,o.up)("q-tooltip"),b=(0,o.up)("q-btn"),g=(0,o.up)("q-card-section"),f=(0,o.up)("q-icon"),h=(0,o.up)("q-input"),V=(0,o.up)("q-select"),q=(0,o.up)("q-toggle"),y=(0,o.up)("q-card-actions"),k=(0,o.up)("q-separator"),_=(0,o.up)("q-form"),Z=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(Z,{class:"my-card",flat:"",bordered:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"bg-green text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{color:"green",icon:"arrow_back",size:"sm",to:"/unidades"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Atras")])),_:1})])),_:1}),(0,o.Uk)("Vehiculos ")])),_:1}),(0,o.Wm)(_,{ref:"myForm",onSubmit:(0,t.iM)(c.action,["prevent"])},{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o._)("div",u,[(0,o.Wm)(h,{type:"text",label:"Unidad",modelValue:c.model.unidad,"onUpdate:modelValue":l[0]||(l[0]=e=>c.model.unidad=e),"lazy-rules":"",disable:c.isDisabled,rules:[e=>c.search(e,"/api/vehiculoUnidad/",c.Unidad),c.required]},{prepend:(0,o.w5)((()=>[(0,o.Wm)(f,{name:"card_membership",color:"blue"})])),_:1},8,["modelValue","disable","rules"])]),(0,o._)("div",r,[(0,o.Wm)(h,{ref:"cursoRef",type:"text",label:"PLACA","lazy-rules":"",disable:c.isDisabled,modelValue:c.model.placa,"onUpdate:modelValue":l[1]||(l[1]=e=>c.model.placa=e),rules:[e=>c.search(e,"/api/vehiculoPlaca/",c.placa),c.required]},{prepend:(0,o.w5)((()=>[(0,o.Wm)(f,{name:"card_membership",color:"blue"})])),_:1},8,["disable","modelValue","rules"])]),(0,o._)("div",d,[(0,o.Wm)(V,{"option-value":"id","option-label":"categorias","emit-value":"",modelValue:c.model.idCategoria,"onUpdate:modelValue":l[2]||(l[2]=e=>c.model.idCategoria=e),options:c.categorias,"map-options":"",label:"Categoria","lazy-rules":"",disable:c.isDisabled,rules:[c.required]},null,8,["modelValue","options","disable","rules"])]),(0,o._)("div",s,[(0,o.Wm)(V,{"option-value":"id","option-label":"modelo",modelValue:c.model.idModelo,"onUpdate:modelValue":l[3]||(l[3]=e=>c.model.idModelo=e),options:c.modelos,"emit-value":"","map-options":"",label:"Modelo","lazy-rules":"",disable:c.isDisabled,rules:[c.required]},null,8,["modelValue","options","disable","rules"])]),(0,o.Wm)(q,{name:"fueraServicio",modelValue:c.idEstado,"onUpdate:modelValue":l[4]||(l[4]=e=>c.idEstado=e),color:"red",label:"En Servicio",disable:c.isDisabled},null,8,["modelValue","disable"])])])),_:1}),(0,o.Wm)(k),(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(b,{size:"sm",color:"red",disable:c.buttonDisabled,type:"submit",label:c.label},null,8,["disable","label"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])}var m=a(6237),v=a(6876),p=a(8686),b=a(7941),g=a(1825),f=a(5999),h=a(6957),V=a(2201),q={setup(){const e=(0,m.iH)([]),l=(0,h.oR)(),a=(0,m.iH)({method:"POST"}),o=(0,m.iH)(!1),t=(0,m.iH)(null),n=(0,m.iH)([]),i=(0,m.iH)([]),u={},r=(0,m.iH)(!1),d=(0,m.iH)(!1),s=((0,V.yj)(),(0,f.Z)()),c=(0,m.iH)("Guardar"),q=(0,m.iH)(""),y=(0,m.iH)("");(0,v.bQ)("/api/categoria/All",a.value).then((e=>{n.value=e.data})),(0,v.bQ)("/api/modelo/All",a.value).then((e=>{i.value=e.data})),l.getters.isGetter("isAction").data&&(Object.assign(u,l.getters.isGetter("isAction")),e.value=u.data,c.value=u.label,y.value=u.data.placa,q.value=u.data.unidad,o.value=u.data.idEstado,console.log(u.data.idEstado),"Eliminar"!=c.value&&(d.value=u.disabled),r.value=u.disabled);const k=()=>{console.log(o.value);let l={};Object.assign(e.value,{idEstado:o.value}),Object.assign(l,e.value);const{confirm:a}=(0,b.Z)();console.log(e.value),s.notify(a(l,u,g.SD))};return{categorias:n,modelos:i,model:e,search:v.yC,action:k,myForm:t,isDisabled:r,buttonDisabled:d,required:p.C1,placa:y,Unidad:q,idEstado:o,label:c}}},y=a(7617),k=a(8055),_=a(9501),Z=a(9804),S=a(4806),w=a(3276),C=a(4333),F=a(6931),I=a(4633),U=a(8582),x=a(6362),W=a(4492),Q=a(1410),E=a.n(Q);const H=(0,y.Z)(q,[["render",c]]);var $=H;E()(q,"components",{QCard:k.Z,QCardSection:_.Z,QBtn:Z.Z,QTooltip:S.Z,QForm:w.Z,QCardActions:C.Z,QInput:F.Z,QIcon:I.Z,QSelect:U.Z,QToggle:x.Z,QSeparator:W.Z})}}]);
//# sourceMappingURL=566.9beecbc9.js.map