"use strict";(self["webpackChunkpvr"]=self["webpackChunkpvr"]||[]).push([[118],{7118:function(e,a,t){t.r(a),t.d(a,{default:function(){return y}});var o=t(9269),i=t(5102);const l={class:"q-pa-md"},s=(0,o._)("div",{class:"text-h6"},"REPORTE HISTORICO DE AVERIAS",-1),r={class:"q-gutter-md row items-start"},u=(0,o._)("div",{class:"text-subtitle2"},[(0,o._)("b")],-1);function n(e,a,t,n,d,c){const m=(0,o.up)("q-tooltip"),p=(0,o.up)("q-btn"),v=(0,o.up)("q-card-section"),h=(0,o.up)("q-card"),f=(0,o.up)("q-input"),g=(0,o.up)("q-card-actions"),w=(0,o.up)("Doughnut"),b=(0,o.up)("q-form");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(b,{class:"q-gutter-md",onSubmit:(0,i.iM)(n.action,["prevent"])},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(v,{class:"bg-green text-white"},{default:(0,o.w5)((()=>[s,(0,o.Wm)(p,{color:"green",icon:"arrow_back",size:"sm",to:"/"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Atras")])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{vertical:"",align:"center"},{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o.Wm)(f,{modelValue:n.model.fechaInicio,"onUpdate:modelValue":a[0]||(a[0]=e=>n.model.fechaInicio=e),type:"date",hint:"Fecha desde",style:{width:"150px"},rules:[n.required,e=>n.fechaMayor(e,n.model.fechaFinal)]},null,8,["modelValue","rules"]),(0,o.Wm)(f,{modelValue:n.model.fechaFinal,"onUpdate:modelValue":a[1]||(a[1]=e=>n.model.fechaFinal=e),type:"date",hint:"Fecha desde",style:{width:"150px"},rules:[n.required,e=>n.fechaMayor(n.model.fechaInicio,e)]},null,8,["modelValue","rules"])]),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,{size:"sm",label:"Consultar",color:"green",type:"submit"})])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[u,(0,o.Wm)(w,{data:n.chartData,options:n.options},null,8,["data","options"])])),_:1})])),_:1})])),_:1})])),_:1},8,["onSubmit"])])}var d=t(6237),c=t(8686),m=t(6957),p=t(872),v=t(1572),h=t(5025);v.kL.register(v.qi,v.u,v.De);var f={components:{Doughnut:h.$I},setup(){const e=(0,d.iH)([]),a=(0,m.oR)(),t=(0,d.iH)(),o=(0,d.iH)([]),i=(0,d.iH)(!1),l=((0,d.iH)([]),(0,d.iH)(0)),s=(0,d.iH)(0),r=a.getters.isGetter("isToken"),u=(0,d.iH)({});u.value={labels:["Sistema de Motor","Sistema de Neumatico","Sistema Hidraulico","Carroceria"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[0,0,0,0]}]};const n=async()=>{console.log("ss"),i.value=!0;let t={};Object.assign(t,e.value);let o={method:"POST",data:t},l="/api/reportes/averia";a.dispatch("varMutuacion",{val:"isLoading",valor:!0}),await(0,p.Z)(l,r,o).then((a=>{Object.assign(e.value,a.data),console.log(e.value),u.value={labels:["Sistema de Motor","Sistema de Neumatico","Sistema Hidraulico","Carroceria"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[e.value.sistemaMotor,e.value.sistemaNeumatico,e.value.sistemaHidraulico,e.value.Carroceria]}]}})).catch((e=>{a.dispatch("varMutuacion",{val:"msg",valor:e.message})})).finally((()=>{a.dispatch("varMutuacion",{val:"isLoading",valor:!1})}))};return{action:n,model:e,required:c.C1,operativas:l,inoperativas:s,chartData:u,unidades:o,total:t,operativo:i,fechaMayor:c.WY,requiredBoolean:c.fQ,options:{responsive:!0,maintainAspectRatio:!1}}}},g=t(7617),w=t(3276),b=t(8055),q=t(9501),W=t(9804),_=t(4806),C=t(4333),D=t(6931),H=t(1410),S=t.n(H);const k=(0,g.Z)(f,[["render",n]]);var y=k;S()(f,"components",{QForm:w.Z,QCard:b.Z,QCardSection:q.Z,QBtn:W.Z,QTooltip:_.Z,QCardActions:C.Z,QInput:D.Z})}}]);
//# sourceMappingURL=118.af7ab74d.js.map