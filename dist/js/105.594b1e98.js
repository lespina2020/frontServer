"use strict";(self["webpackChunkpvr"]=self["webpackChunkpvr"]||[]).push([[105],{6876:function(e,t,a){a.d(t,{XI:function(){return p},Y2:function(){return d},bQ:function(){return s},tw:function(){return c},yC:function(){return r}});a(4719);var o=a(872),l=a(4881),n=a(4010);let i=JSON.parse(localStorage.getItem("token")),{accessToken:u}=i;console.log(u);const s=async(e,t)=>{let a;return await(0,o.Z)(e,u,t).then((e=>{a=e})).catch((e=>{console.log(e),"Request failed with status code 401"===e.message&&(localStorage.clear(),n.Z.go("/login"))})),a},d=(e,t,a,o)=>{console.log(e,t);let n=a,i=n?.toString(),u={url:o.paginacion,options:{method:o.GET},params:{page:t,size:10,title:i,base:e.tabla,varPagina:e.varPaginacion}};l.Z.dispatch("loadList",u)},r=(e,t,a)=>{if(e){let l=e.toString();if(l!=a&&""!=e){let a=t,l={method:"GET"};return new Promise((t=>{setTimeout((()=>{(0,o.Z)(`${a}${e}`,u,l).then((e=>{let a=e.data;t(!a.length||"*  ya existe")})).catch((e=>{"Request failed with status code 401"===e.message&&(localStorage.clear(),n.Z.push("/login"))}))}),1e3)}))}}},c=async(e,t)=>await(0,o.Z)(e,u,t),p=[{id:1,tipoUsuario:"operador"},{id:2,tipoUsuario:"administrador"}]},9105:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var o=a(9269),l=a(5102);const n={class:"q-pa-md"},i=(0,o._)("div",{class:"text-h6"}," Reporte Por Fecha de PVR Por dia de Registro ",-1),u={class:"q-gutter-md row items-start"};function s(e,t,a,s,d,r){const c=(0,o.up)("q-tooltip"),p=(0,o.up)("q-btn"),m=(0,o.up)("q-card-section"),h=(0,o.up)("q-card"),f=(0,o.up)("q-input"),g=(0,o.up)("q-select"),v=(0,o.up)("q-card-actions"),w=(0,o.up)("q-form");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(w,{class:"q-gutter-md",onSubmit:(0,l.iM)(s.action,["prevent"])},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"bg-green text-white"},{default:(0,o.w5)((()=>[i,(0,o.Wm)(p,{color:"green",icon:"arrow_back",size:"sm",to:"/"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Atras")])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(v,{vertical:"",align:"center"},{default:(0,o.w5)((()=>[(0,o._)("div",u,[(0,o.Wm)(f,{modelValue:s.model.fechaInicio,"onUpdate:modelValue":t[0]||(t[0]=e=>s.model.fechaInicio=e),type:"date",hint:"Fecha desde",style:{width:"150px"},rules:[s.required,e=>s.fechaMayor(e,s.model.fechaFinal)]},null,8,["modelValue","rules"]),(0,o.Wm)(f,{modelValue:s.model.fechaFinal,"onUpdate:modelValue":t[1]||(t[1]=e=>s.model.fechaFinal=e),type:"date",hint:"Fecha desde",style:{width:"150px"},rules:[s.required,e=>s.fechaMayor(s.model.fechaInicio,e)]},null,8,["modelValue","rules"]),(0,o.Wm)(g,{modelValue:s.model.status,"onUpdate:modelValue":t[2]||(t[2]=e=>s.model.status=e),hint:"Status del PVR",style:{width:"150px"},options:s.options,"option-value":"status","option-label":"label","emit-value":"","map-options":""},null,8,["modelValue","options"]),(0,o.Wm)(g,{modelValue:s.model.unidad,"onUpdate:modelValue":t[3]||(t[3]=e=>s.model.unidad=e),hint:"Unidad",style:{width:"150px"},options:s.unidades,"option-value":"unidad","option-label":"unidad","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,{size:"sm",label:"Consultar",color:"green",type:"submit"})])),_:1})])),_:1})])),_:1})])),_:1},8,["onSubmit"])])}a(4719);var d=a(6237),r=a(8686),c=a(6876),p=a(6957),m=a(2201),h=a(5999),f={setup(){const e=(0,d.iH)([]),t=(0,p.oR)(),a=(0,m.tv)(),o=(0,h.Z)(),l=(0,d.iH)([]),n=[{status:!1,label:"Cerrado"},{status:!0,label:"Abierto"}];let i={method:"POST"};(0,c.bQ)("/api/vehiculo/All",i).then((e=>l.value=e.data.map((function(e){return{unidad:e.unidad}}))));const u=async()=>{console.log(e.value.status);let l=(0,r.Wc)(e.value.fechaInicio,e.value.fechaFinal);if(l<=15)if(!1===e.value.status||!0===e.value.status){let o={};Object.assign(o,e.value);let l={url:"/api/reportes/AllCantidad",options:{method:"POST",data:o},tipoReporte:"cantidadPorFecha",tittle:"Reporte Cantidad Por Fecha de PVR ",componente:"cantidadPVR"},n={val:"isReport",valor:l};t.dispatch("varMutuacion",n),a.push("/reporte")}else o.notify({type:"negative",message:"Debe Seleccionar Condicion del PVR"});else o.notify({type:"negative",message:"El Rango de Fecha tiene que ser Igual o Menor a 15 dias"})};return{action:u,model:e,required:r.C1,unidades:l,options:n,fechaMayor:r.WY,requiredBoolean:r.fQ}}},g=a(7617),v=a(3276),w=a(8055),b=a(9501),y=a(9804),q=a(4806),V=a(4333),Z=a(6931),W=a(8582),P=a(1410),R=a.n(P);const S=(0,g.Z)(f,[["render",s]]);var C=S;R()(f,"components",{QForm:v.Z,QCard:w.Z,QCardSection:b.Z,QBtn:y.Z,QTooltip:q.Z,QCardActions:V.Z,QInput:Z.Z,QSelect:W.Z})}}]);
//# sourceMappingURL=105.594b1e98.js.map