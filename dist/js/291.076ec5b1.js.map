{"version":3,"file":"js/291.076ec5b1.js","mappings":"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","sources":["webpack://pvr/./node_modules/quasar/src/components/editor/editor-caret.js","webpack://pvr/./node_modules/quasar/src/components/btn-group/QBtnGroup.js","webpack://pvr/./node_modules/quasar/src/components/btn-dropdown/QBtnDropdown.js","webpack://pvr/./node_modules/quasar/src/components/editor/editor-utils.js","webpack://pvr/./node_modules/quasar/src/utils/extend.js","webpack://pvr/./node_modules/quasar/src/components/editor/QEditor.js","webpack://pvr/./node_modules/quasar/src/composables/private/use-fullscreen.js"],"sourcesContent":["import { noop } from '../../utils/event.js'\n\nfunction getBlockElement (el, parent) {\n  if (parent && el === parent) {\n    return null\n  }\n\n  const nodeName = el.nodeName.toLowerCase()\n\n  if ([ 'div', 'li', 'ul', 'ol', 'blockquote' ].includes(nodeName) === true) {\n    return el\n  }\n\n  const\n    style = window.getComputedStyle\n      ? window.getComputedStyle(el)\n      : el.currentStyle,\n    display = style.display\n\n  if (display === 'block' || display === 'table') {\n    return el\n  }\n\n  return getBlockElement(el.parentNode)\n}\n\nfunction isChildOf (el, parent, orSame) {\n  return !el || el === document.body\n    ? false\n    : (orSame === true && el === parent) || (parent === document ? document.body : parent).contains(el.parentNode)\n}\n\nfunction createRange (node, chars, range) {\n  if (!range) {\n    range = document.createRange()\n    range.selectNode(node)\n    range.setStart(node, 0)\n  }\n\n  if (chars.count === 0) {\n    range.setEnd(node, chars.count)\n  }\n  else if (chars.count > 0) {\n    if (node.nodeType === Node.TEXT_NODE) {\n      if (node.textContent.length < chars.count) {\n        chars.count -= node.textContent.length\n      }\n      else {\n        range.setEnd(node, chars.count)\n        chars.count = 0\n      }\n    }\n    else {\n      for (let lp = 0; chars.count !== 0 && lp < node.childNodes.length; lp++) {\n        range = createRange(node.childNodes[ lp ], chars, range)\n      }\n    }\n  }\n\n  return range\n}\n\nconst urlRegex = /^https?:\\/\\//\n\nexport default class Caret {\n  constructor (el, eVm) {\n    this.el = el\n    this.eVm = eVm\n    this._range = null\n  }\n\n  get selection () {\n    if (this.el) {\n      const sel = document.getSelection()\n\n      // only when the selection in element\n      if (isChildOf(sel.anchorNode, this.el, true) && isChildOf(sel.focusNode, this.el, true)) {\n        return sel\n      }\n    }\n\n    return null\n  }\n\n  get hasSelection () {\n    return this.selection !== null\n      ? this.selection.toString().length !== 0\n      : false\n  }\n\n  get range () {\n    const sel = this.selection\n\n    if (sel !== null && sel.rangeCount) {\n      return sel.getRangeAt(0)\n    }\n\n    return this._range\n  }\n\n  get parent () {\n    const range = this.range\n\n    if (range !== null) {\n      const node = range.startContainer\n\n      return node.nodeType === document.ELEMENT_NODE\n        ? node\n        : node.parentNode\n    }\n\n    return null\n  }\n\n  get blockParent () {\n    const parent = this.parent\n\n    if (parent !== null) {\n      return getBlockElement(parent, this.el)\n    }\n\n    return null\n  }\n\n  save (range = this.range) {\n    if (range !== null) {\n      this._range = range\n    }\n  }\n\n  restore (range = this._range) {\n    const\n      r = document.createRange(),\n      sel = document.getSelection()\n\n    if (range !== null) {\n      r.setStart(range.startContainer, range.startOffset)\n      r.setEnd(range.endContainer, range.endOffset)\n      sel.removeAllRanges()\n      sel.addRange(r)\n    }\n    else {\n      sel.selectAllChildren(this.el)\n      sel.collapseToEnd()\n    }\n  }\n\n  savePosition () {\n    let charCount = -1, node\n    const\n      selection = document.getSelection(),\n      parentEl = this.el.parentNode\n\n    if (selection.focusNode && isChildOf(selection.focusNode, parentEl)) {\n      node = selection.focusNode\n      charCount = selection.focusOffset\n\n      while (node && node !== parentEl) {\n        if (node !== this.el && node.previousSibling) {\n          node = node.previousSibling\n          charCount += node.textContent.length\n        }\n        else {\n          node = node.parentNode\n        }\n      }\n    }\n\n    this.savedPos = charCount\n  }\n\n  restorePosition (length = 0) {\n    if (this.savedPos > 0 && this.savedPos < length) {\n      const\n        selection = window.getSelection(),\n        range = createRange(this.el, { count: this.savedPos })\n\n      if (range) {\n        range.collapse(false)\n        selection.removeAllRanges()\n        selection.addRange(range)\n      }\n    }\n  }\n\n  hasParent (name, spanLevel) {\n    const el = spanLevel\n      ? this.parent\n      : this.blockParent\n\n    return el !== null\n      ? el.nodeName.toLowerCase() === name.toLowerCase()\n      : false\n  }\n\n  hasParents (list, recursive, el = this.parent) {\n    if (el === null) {\n      return false\n    }\n\n    if (list.includes(el.nodeName.toLowerCase()) === true) {\n      return true\n    }\n\n    return recursive === true\n      ? this.hasParents(list, recursive, el.parentNode)\n      : false\n  }\n\n  is (cmd, param) {\n    if (this.selection === null) {\n      return false\n    }\n\n    switch (cmd) {\n      case 'formatBlock':\n        return (param === 'DIV' && this.parent === this.el)\n          || this.hasParent(param, param === 'PRE')\n      case 'link':\n        return this.hasParent('A', true)\n      case 'fontSize':\n        return document.queryCommandValue(cmd) === param\n      case 'fontName':\n        const res = document.queryCommandValue(cmd)\n        return res === `\"${ param }\"` || res === param\n      case 'fullscreen':\n        return this.eVm.inFullscreen.value\n      case 'viewsource':\n        return this.eVm.isViewingSource.value\n      case void 0:\n        return false\n      default:\n        const state = document.queryCommandState(cmd)\n        return param !== void 0 ? state === param : state\n    }\n  }\n\n  getParentAttribute (attrib) {\n    if (this.parent !== null) {\n      return this.parent.getAttribute(attrib)\n    }\n\n    return null\n  }\n\n  can (name) {\n    if (name === 'outdent') {\n      return this.hasParents([ 'blockquote', 'li' ], true)\n    }\n\n    if (name === 'indent') {\n      return this.hasParents([ 'li' ], true)\n    }\n\n    if (name === 'link') {\n      return this.selection !== null || this.is('link')\n    }\n  }\n\n  apply (cmd, param, done = noop) {\n    if (cmd === 'formatBlock') {\n      if ([ 'BLOCKQUOTE', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6' ].includes(param) && this.is(cmd, param)) {\n        cmd = 'outdent'\n        param = null\n      }\n\n      if (param === 'PRE' && this.is(cmd, 'PRE')) {\n        param = 'P'\n      }\n    }\n    else if (cmd === 'print') {\n      done()\n\n      const win = window.open()\n\n      win.document.write(`\n        <!doctype html>\n        <html>\n          <head>\n            <title>Print - ${ document.title }</title>\n          </head>\n          <body>\n            <div>${ this.el.innerHTML }</div>\n          </body>\n        </html>\n      `)\n      win.print()\n      win.close()\n\n      return\n    }\n    else if (cmd === 'link') {\n      const link = this.getParentAttribute('href')\n\n      if (link === null) {\n        const selection = this.selectWord(this.selection)\n        const url = selection ? selection.toString() : ''\n\n        if (!url.length) {\n          if (!this.range || !this.range.cloneContents().querySelector('img')) {\n            return\n          }\n        }\n\n        this.eVm.editLinkUrl.value = urlRegex.test(url) ? url : 'https://'\n        document.execCommand('createLink', false, this.eVm.editLinkUrl.value)\n\n        this.save(selection.getRangeAt(0))\n      }\n      else {\n        this.eVm.editLinkUrl.value = link\n\n        this.range.selectNodeContents(this.parent)\n        this.save()\n      }\n\n      return\n    }\n    else if (cmd === 'fullscreen') {\n      this.eVm.toggleFullscreen()\n      done()\n\n      return\n    }\n    else if (cmd === 'viewsource') {\n      this.eVm.isViewingSource.value = this.eVm.isViewingSource.value === false\n      this.eVm.setContent(this.eVm.props.modelValue)\n      done()\n\n      return\n    }\n\n    document.execCommand(cmd, false, param)\n\n    done()\n  }\n\n  selectWord (sel) {\n    if (sel === null || sel.isCollapsed !== true || /* IE 11 */ sel.modify === void 0) {\n      return sel\n    }\n\n    // Detect if selection is backwards\n    const range = document.createRange()\n    range.setStart(sel.anchorNode, sel.anchorOffset)\n    range.setEnd(sel.focusNode, sel.focusOffset)\n    const direction = range.collapsed ? [ 'backward', 'forward' ] : [ 'forward', 'backward' ]\n    range.detach()\n\n    // modify() works on the focus of the selection\n    const\n      endNode = sel.focusNode,\n      endOffset = sel.focusOffset\n    sel.collapse(sel.anchorNode, sel.anchorOffset)\n    sel.modify('move', direction[ 0 ], 'character')\n    sel.modify('move', direction[ 1 ], 'word')\n    sel.extend(endNode, endOffset)\n    sel.modify('extend', direction[ 1 ], 'character')\n    sel.modify('extend', direction[ 0 ], 'word')\n\n    return sel\n  }\n}\n","import { h, computed } from 'vue'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { hSlot } from '../../utils/private/render.js'\n\nexport default createComponent({\n  name: 'QBtnGroup',\n\n  props: {\n    unelevated: Boolean,\n    outline: Boolean,\n    flat: Boolean,\n    rounded: Boolean,\n    square: Boolean,\n    push: Boolean,\n    stretch: Boolean,\n    glossy: Boolean,\n    spread: Boolean\n  },\n\n  setup (props, { slots }) {\n    const classes = computed(() => {\n      const cls = [ 'unelevated', 'outline', 'flat', 'rounded', 'square', 'push', 'stretch', 'glossy' ]\n        .filter(t => props[ t ] === true)\n        .map(t => `q-btn-group--${ t }`).join(' ')\n\n      return `q-btn-group row no-wrap${ cls.length !== 0 ? ' ' + cls : '' }`\n        + (props.spread === true ? ' q-btn-group--spread' : ' inline')\n    })\n\n    return () => h('div', { class: classes.value }, hSlot(slots.default))\n  }\n})\n","import { h, ref, computed, watch, onMounted, getCurrentInstance } from 'vue'\n\nimport QIcon from '../icon/QIcon.js'\nimport QBtn from '../btn/QBtn.js'\nimport QBtnGroup from '../btn-group/QBtnGroup.js'\nimport QMenu from '../menu/QMenu.js'\n\nimport { getBtnDesignAttr, useBtnProps } from '../btn/use-btn.js'\nimport { useTransitionProps } from '../../composables/private/use-transition.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { stop } from '../../utils/event.js'\nimport uid from '../../utils/uid.js'\nimport { hSlot } from '../../utils/private/render.js'\n\nconst btnPropsList = Object.keys(useBtnProps)\n\nexport const passBtnProps = props => btnPropsList.reduce(\n  (acc, key) => {\n    const val = props[ key ]\n    if (val !== void 0) {\n      acc[ key ] = val\n    }\n    return acc\n  },\n  {}\n)\n\nexport default createComponent({\n  name: 'QBtnDropdown',\n\n  props: {\n    ...useBtnProps,\n    ...useTransitionProps,\n\n    modelValue: Boolean,\n    split: Boolean,\n    dropdownIcon: String,\n\n    contentClass: [ Array, String, Object ],\n    contentStyle: [ Array, String, Object ],\n\n    cover: Boolean,\n    persistent: Boolean,\n    noRouteDismiss: Boolean,\n    autoClose: Boolean,\n\n    menuAnchor: {\n      type: String,\n      default: 'bottom end'\n    },\n    menuSelf: {\n      type: String,\n      default: 'top end'\n    },\n    menuOffset: Array,\n\n    disableMainBtn: Boolean,\n    disableDropdown: Boolean,\n\n    noIconAnimation: Boolean,\n\n    toggleAriaLabel: String\n  },\n\n  emits: [ 'update:modelValue', 'click', 'beforeShow', 'show', 'beforeHide', 'hide' ],\n\n  setup (props, { slots, emit }) {\n    const { proxy } = getCurrentInstance()\n\n    const showing = ref(props.modelValue)\n    const menuRef = ref(null)\n    const targetUid = uid()\n\n    const ariaAttrs = computed(() => {\n      const acc = {\n        'aria-expanded': showing.value === true ? 'true' : 'false',\n        'aria-haspopup': 'true',\n        'aria-controls': targetUid,\n        'aria-label': props.toggleAriaLabel || proxy.$q.lang.label[ showing.value === true ? 'collapse' : 'expand' ](props.label)\n      }\n\n      if (\n        props.disable === true\n        || (\n          (props.split === false && props.disableMainBtn === true)\n          || props.disableDropdown === true\n        )\n      ) {\n        acc[ 'aria-disabled' ] = 'true'\n      }\n\n      return acc\n    })\n\n    const iconClass = computed(() =>\n      'q-btn-dropdown__arrow'\n      + (showing.value === true && props.noIconAnimation === false ? ' rotate-180' : '')\n      + (props.split === false ? ' q-btn-dropdown__arrow-container' : '')\n    )\n\n    const btnDesignAttr = computed(() => getBtnDesignAttr(props))\n    const btnProps = computed(() => passBtnProps(props))\n\n    watch(() => props.modelValue, val => {\n      menuRef.value !== null && menuRef.value[ val ? 'show' : 'hide' ]()\n    })\n\n    watch(() => props.split, hide)\n\n    function onBeforeShow (e) {\n      showing.value = true\n      emit('beforeShow', e)\n    }\n\n    function onShow (e) {\n      emit('show', e)\n      emit('update:modelValue', true)\n    }\n\n    function onBeforeHide (e) {\n      showing.value = false\n      emit('beforeHide', e)\n    }\n\n    function onHide (e) {\n      emit('hide', e)\n      emit('update:modelValue', false)\n    }\n\n    function onClick (e) {\n      emit('click', e)\n    }\n\n    function onClickHide (e) {\n      stop(e)\n      hide()\n      emit('click', e)\n    }\n\n    function toggle (evt) {\n      menuRef.value !== null && menuRef.value.toggle(evt)\n    }\n\n    function show (evt) {\n      menuRef.value !== null && menuRef.value.show(evt)\n    }\n\n    function hide (evt) {\n      menuRef.value !== null && menuRef.value.hide(evt)\n    }\n\n    // expose public methods\n    Object.assign(proxy, {\n      show, hide, toggle\n    })\n\n    onMounted(() => {\n      props.modelValue === true && show()\n    })\n\n    return () => {\n      const Arrow = [\n        h(QIcon, {\n          class: iconClass.value,\n          name: props.dropdownIcon || proxy.$q.iconSet.arrow.dropdown\n        })\n      ]\n\n      props.disableDropdown !== true && Arrow.push(\n        h(QMenu, {\n          ref: menuRef,\n          id: targetUid,\n          class: props.contentClass,\n          style: props.contentStyle,\n          cover: props.cover,\n          fit: true,\n          persistent: props.persistent,\n          noRouteDismiss: props.noRouteDismiss,\n          autoClose: props.autoClose,\n          anchor: props.menuAnchor,\n          self: props.menuSelf,\n          offset: props.menuOffset,\n          separateClosePopup: true,\n          transitionShow: props.transitionShow,\n          transitionHide: props.transitionHide,\n          transitionDuration: props.transitionDuration,\n          onBeforeShow,\n          onShow,\n          onBeforeHide,\n          onHide\n        }, slots.default)\n      )\n\n      if (props.split === false) {\n        return h(QBtn, {\n          class: 'q-btn-dropdown q-btn-dropdown--simple',\n          ...btnProps.value,\n          ...ariaAttrs.value,\n          disable: props.disable === true || props.disableMainBtn === true,\n          noWrap: true,\n          round: false,\n          onClick\n        }, {\n          default: () => hSlot(slots.label, []).concat(Arrow),\n          loading: slots.loading\n        })\n      }\n\n      return h(QBtnGroup, {\n        class: 'q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item',\n        rounded: props.rounded,\n        square: props.square,\n        ...btnDesignAttr.value,\n        glossy: props.glossy,\n        stretch: props.stretch\n      }, () => [\n        h(QBtn, {\n          class: 'q-btn-dropdown--current',\n          ...btnProps.value,\n          disable: props.disable === true || props.disableMainBtn === true,\n          noWrap: true,\n          round: false,\n          onClick: onClickHide\n        }, {\n          default: slots.label,\n          loading: slots.loading\n        }),\n\n        h(QBtn, {\n          class: 'q-btn-dropdown__arrow-container q-anchor--skip',\n          ...ariaAttrs.value,\n          ...btnDesignAttr.value,\n          disable: props.disable === true || props.disableDropdown === true,\n          rounded: props.rounded,\n          color: props.color,\n          textColor: props.textColor,\n          dense: props.dense,\n          size: props.size,\n          padding: props.padding,\n          ripple: props.ripple\n        }, () => Arrow)\n      ])\n    }\n  }\n})\n","import { h } from 'vue'\n\nimport QBtn from '../btn/QBtn.js'\nimport QBtnDropdown from '../btn-dropdown/QBtnDropdown.js'\nimport QIcon from '../icon/QIcon.js'\nimport QTooltip from '../tooltip/QTooltip.js'\nimport QItem from '../item/QItem.js'\nimport QItemSection from '../item/QItemSection.js'\n\nimport { prevent, stop } from '../../utils/event.js'\nimport { hSlot } from '../../utils/private/render.js'\nimport { shouldIgnoreKey } from '../../utils/private/key-composition.js'\n\nfunction run (e, btn, eVm) {\n  if (btn.handler) {\n    btn.handler(e, eVm, eVm.caret)\n  }\n  else {\n    eVm.runCmd(btn.cmd, btn.param)\n  }\n}\n\nfunction getGroup (children) {\n  return h('div', { class: 'q-editor__toolbar-group' }, children)\n}\n\nfunction getBtn (eVm, btn, clickHandler, active = false) {\n  const\n    toggled = active || (btn.type === 'toggle'\n      ? (btn.toggled ? btn.toggled(eVm) : btn.cmd && eVm.caret.is(btn.cmd, btn.param))\n      : false),\n    child = []\n\n  if (btn.tip && eVm.$q.platform.is.desktop) {\n    const Key = btn.key\n      ? h('div', [\n        h('small', `(CTRL + ${ String.fromCharCode(btn.key) })`)\n      ])\n      : null\n    child.push(\n      h(QTooltip, { delay: 1000 }, () => [\n        h('div', { innerHTML: btn.tip }),\n        Key\n      ])\n    )\n  }\n\n  return h(QBtn, {\n    ...eVm.buttonProps.value,\n    icon: btn.icon !== null ? btn.icon : void 0,\n    color: toggled ? btn.toggleColor || eVm.props.toolbarToggleColor : btn.color || eVm.props.toolbarColor,\n    textColor: toggled && !eVm.props.toolbarPush ? null : btn.textColor || eVm.props.toolbarTextColor,\n    label: btn.label,\n    disable: btn.disable ? (typeof btn.disable === 'function' ? btn.disable(eVm) : true) : false,\n    size: 'sm',\n    onClick (e) {\n      clickHandler && clickHandler()\n      run(e, btn, eVm)\n    }\n  }, () => child)\n}\n\nfunction getDropdown (eVm, btn) {\n  const onlyIcons = btn.list === 'only-icons'\n  let\n    label = btn.label,\n    icon = btn.icon !== null ? btn.icon : void 0,\n    contentClass,\n    Items\n\n  function closeDropdown () {\n    Dropdown.component.proxy.hide()\n  }\n\n  if (onlyIcons) {\n    Items = btn.options.map(btn => {\n      const active = btn.type === void 0\n        ? eVm.caret.is(btn.cmd, btn.param)\n        : false\n\n      if (active) {\n        label = btn.tip\n        icon = btn.icon !== null ? btn.icon : void 0\n      }\n      return getBtn(eVm, btn, closeDropdown, active)\n    })\n    contentClass = eVm.toolbarBackgroundClass.value\n    Items = [\n      getGroup(Items)\n    ]\n  }\n  else {\n    const activeClass = eVm.props.toolbarToggleColor !== void 0\n      ? `text-${ eVm.props.toolbarToggleColor }`\n      : null\n    const inactiveClass = eVm.props.toolbarTextColor !== void 0\n      ? `text-${ eVm.props.toolbarTextColor }`\n      : null\n\n    const noIcons = btn.list === 'no-icons'\n\n    Items = btn.options.map(btn => {\n      const disable = btn.disable ? btn.disable(eVm) : false\n      const active = btn.type === void 0\n        ? eVm.caret.is(btn.cmd, btn.param)\n        : false\n\n      if (active) {\n        label = btn.tip\n        icon = btn.icon !== null ? btn.icon : void 0\n      }\n\n      const htmlTip = btn.htmlTip\n\n      return h(QItem, {\n        active,\n        activeClass,\n        clickable: true,\n        disable,\n        dense: true,\n        onClick (e) {\n          closeDropdown()\n          eVm.contentRef.value !== null && eVm.contentRef.value.focus()\n          eVm.caret.restore()\n          run(e, btn, eVm)\n        }\n      }, () => [\n        noIcons === true\n          ? null\n          : h(\n            QItemSection,\n            {\n              class: active ? activeClass : inactiveClass,\n              side: true\n            },\n            () => h(QIcon, { name: btn.icon !== null ? btn.icon : void 0 })\n          ),\n\n        h(\n          QItemSection,\n          htmlTip\n            ? () => h('div', { class: 'text-no-wrap', innerHTML: btn.htmlTip })\n            : (btn.tip ? () => h('div', { class: 'text-no-wrap' }, btn.tip) : void 0)\n        )\n      ])\n    })\n    contentClass = [ eVm.toolbarBackgroundClass.value, inactiveClass ]\n  }\n\n  const highlight = btn.highlight && label !== btn.label\n  const Dropdown = h(QBtnDropdown, {\n    ...eVm.buttonProps.value,\n    noCaps: true,\n    noWrap: true,\n    color: highlight ? eVm.props.toolbarToggleColor : eVm.props.toolbarColor,\n    textColor: highlight && !eVm.props.toolbarPush ? null : eVm.props.toolbarTextColor,\n    label: btn.fixedLabel ? btn.label : label,\n    icon: btn.fixedIcon ? (btn.icon !== null ? btn.icon : void 0) : icon,\n    contentClass,\n    onShow: evt => eVm.emit('dropdownShow', evt),\n    onHide: evt => eVm.emit('dropdownHide', evt),\n    onBeforeShow: evt => eVm.emit('dropdownBeforeShow', evt),\n    onBeforeHide: evt => eVm.emit('dropdownBeforeHide', evt)\n  }, () => Items)\n\n  return Dropdown\n}\n\nexport function getToolbar (eVm) {\n  if (eVm.caret) {\n    return eVm.buttons.value\n      .filter(f => {\n        return !eVm.isViewingSource.value || f.find(fb => fb.cmd === 'viewsource')\n      })\n      .map(group => getGroup(\n        group.map(btn => {\n          if (eVm.isViewingSource.value && btn.cmd !== 'viewsource') {\n            return false\n          }\n\n          if (btn.type === 'slot') {\n            return hSlot(eVm.slots[ btn.slot ])\n          }\n\n          if (btn.type === 'dropdown') {\n            return getDropdown(eVm, btn)\n          }\n\n          return getBtn(eVm, btn)\n        })\n      ))\n  }\n}\n\nexport function getFonts (defaultFont, defaultFontLabel, defaultFontIcon, fonts = {}) {\n  const aliases = Object.keys(fonts)\n  if (aliases.length === 0) {\n    return {}\n  }\n\n  const def = {\n    default_font: {\n      cmd: 'fontName',\n      param: defaultFont,\n      icon: defaultFontIcon,\n      tip: defaultFontLabel\n    }\n  }\n\n  aliases.forEach(alias => {\n    const name = fonts[ alias ]\n    def[ alias ] = {\n      cmd: 'fontName',\n      param: name,\n      icon: defaultFontIcon,\n      tip: name,\n      htmlTip: `<font face=\"${ name }\">${ name }</font>`\n    }\n  })\n\n  return def\n}\n\nexport function getLinkEditor (eVm) {\n  if (eVm.caret) {\n    const color = eVm.props.toolbarColor || eVm.props.toolbarTextColor\n    let link = eVm.editLinkUrl.value\n    const updateLink = () => {\n      eVm.caret.restore()\n\n      if (link !== eVm.editLinkUrl.value) {\n        document.execCommand('createLink', false, link === '' ? ' ' : link)\n      }\n\n      eVm.editLinkUrl.value = null\n    }\n\n    return [\n      h('div', { class: `q-mx-xs text-${ color }` }, `${ eVm.$q.lang.editor.url }: `),\n      h('input', {\n        key: 'qedt_btm_input',\n        class: 'col q-editor__link-input',\n        value: link,\n        onInput: evt => {\n          stop(evt)\n          link = evt.target.value\n        },\n        onKeydown: evt => {\n          if (shouldIgnoreKey(evt) === true) {\n            return\n          }\n\n          switch (evt.keyCode) {\n            case 13: // ENTER key\n              prevent(evt)\n              return updateLink()\n            case 27: // ESCAPE key\n              prevent(evt)\n              eVm.caret.restore()\n              if (!eVm.editLinkUrl.value || eVm.editLinkUrl.value === 'https://') {\n                document.execCommand('unlink')\n              }\n              eVm.editLinkUrl.value = null\n              break\n          }\n        }\n      }),\n      getGroup([\n        h(QBtn, {\n          key: 'qedt_btm_rem',\n          tabindex: -1,\n          ...eVm.buttonProps.value,\n          label: eVm.$q.lang.label.remove,\n          noCaps: true,\n          onClick: () => {\n            eVm.caret.restore()\n            document.execCommand('unlink')\n            eVm.editLinkUrl.value = null\n          }\n        }),\n        h(QBtn, {\n          key: 'qedt_btm_upd',\n          ...eVm.buttonProps.value,\n          label: eVm.$q.lang.label.update,\n          noCaps: true,\n          onClick: updateLink\n        })\n      ])\n    ]\n  }\n}\n","const\n  toString = Object.prototype.toString,\n  hasOwn = Object.prototype.hasOwnProperty,\n  notPlainObject = new Set(\n    [ 'Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp' ]\n      .map(name => '[object ' + name + ']')\n  )\n\nfunction isPlainObject (obj) {\n  if (obj !== Object(obj) || notPlainObject.has(toString.call(obj)) === true) {\n    return false\n  }\n\n  if (\n    obj.constructor\n    && hasOwn.call(obj, 'constructor') === false\n    && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf') === false\n  ) {\n    return false\n  }\n\n  let key\n  for (key in obj) {} // eslint-disable-line\n\n  return key === void 0 || hasOwn.call(obj, key)\n}\n\nexport default function extend () {\n  let\n    options, name, src, copy, copyIsArray, clone,\n    target = arguments[ 0 ] || {},\n    i = 1,\n    deep = false\n  const length = arguments.length\n\n  if (typeof target === 'boolean') {\n    deep = target\n    target = arguments[ 1 ] || {}\n    i = 2\n  }\n\n  if (Object(target) !== target && typeof target !== 'function') {\n    target = {}\n  }\n\n  if (length === i) {\n    target = this\n    i--\n  }\n\n  for (; i < length; i++) {\n    if ((options = arguments[ i ]) !== null) {\n      for (name in options) {\n        src = target[ name ]\n        copy = options[ name ]\n\n        if (target === copy) {\n          continue\n        }\n\n        if (\n          deep === true\n          && copy\n          && ((copyIsArray = Array.isArray(copy)) || isPlainObject(copy) === true)\n        ) {\n          if (copyIsArray === true) {\n            clone = Array.isArray(src) === true ? src : []\n          }\n          else {\n            clone = isPlainObject(src) === true ? src : {}\n          }\n\n          target[ name ] = extend(deep, clone, copy)\n        }\n        else if (copy !== void 0) {\n          target[ name ] = copy\n        }\n      }\n    }\n  }\n\n  return target\n}\n","import { h, ref, computed, watch, onMounted, onBeforeUnmount, nextTick, getCurrentInstance } from 'vue'\n\nimport Caret from './editor-caret.js'\nimport { getToolbar, getFonts, getLinkEditor } from './editor-utils.js'\n\nimport useDark, { useDarkProps } from '../../composables/private/use-dark.js'\nimport useFullscreen, { useFullscreenProps, useFullscreenEmits } from '../../composables/private/use-fullscreen.js'\nimport useSplitAttrs from '../../composables/private/use-split-attrs.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { stopAndPrevent } from '../../utils/event.js'\nimport extend from '../../utils/extend.js'\nimport { shouldIgnoreKey } from '../../utils/private/key-composition.js'\nimport { addFocusFn } from '../../utils/private/focus-manager.js'\n\nexport default createComponent({\n  name: 'QEditor',\n\n  props: {\n    ...useDarkProps,\n    ...useFullscreenProps,\n\n    modelValue: {\n      type: String,\n      required: true\n    },\n    readonly: Boolean,\n    disable: Boolean,\n    minHeight: {\n      type: String,\n      default: '10rem'\n    },\n    maxHeight: String,\n    height: String,\n    definitions: Object,\n    fonts: Object,\n    placeholder: String,\n\n    toolbar: {\n      type: Array,\n      validator: v => v.length === 0 || v.every(group => group.length),\n      default () {\n        return [\n          [ 'left', 'center', 'right', 'justify' ],\n          [ 'bold', 'italic', 'underline', 'strike' ],\n          [ 'undo', 'redo' ]\n        ]\n      }\n    },\n    toolbarColor: String,\n    toolbarBg: String,\n    toolbarTextColor: String,\n    toolbarToggleColor: {\n      type: String,\n      default: 'primary'\n    },\n    toolbarOutline: Boolean,\n    toolbarPush: Boolean,\n    toolbarRounded: Boolean,\n\n    paragraphTag: {\n      type: String,\n      validator: v => [ 'div', 'p' ].includes(v),\n      default: 'div'\n    },\n\n    contentStyle: Object,\n    contentClass: [ Object, Array, String ],\n\n    square: Boolean,\n    flat: Boolean,\n    dense: Boolean\n  },\n\n  emits: [\n    ...useFullscreenEmits,\n    'update:modelValue',\n    'keydown', 'click', 'mouseup', 'keyup', 'touchend',\n    'focus', 'blur',\n    'dropdownShow',\n    'dropdownHide',\n    'dropdownBeforeShow',\n    'dropdownBeforeHide',\n    'linkShow',\n    'linkHide'\n  ],\n\n  setup (props, { slots, emit, attrs }) {\n    const { proxy, vnode } = getCurrentInstance()\n    const { $q } = proxy\n\n    const isDark = useDark(props, $q)\n    const { inFullscreen, toggleFullscreen } = useFullscreen()\n    const splitAttrs = useSplitAttrs(attrs, vnode)\n\n    const rootRef = ref(null)\n    const contentRef = ref(null)\n\n    const editLinkUrl = ref(null)\n    const isViewingSource = ref(false)\n\n    const editable = computed(() => !props.readonly && !props.disable)\n\n    let defaultFont, offsetBottom\n    let lastEmit = props.modelValue\n\n    if (__QUASAR_SSR_SERVER__ !== true) {\n      document.execCommand('defaultParagraphSeparator', false, props.paragraphTag)\n      defaultFont = window.getComputedStyle(document.body).fontFamily\n    }\n\n    const toolbarBackgroundClass = computed(() => (\n      props.toolbarBg ? ` bg-${ props.toolbarBg }` : ''\n    ))\n\n    const buttonProps = computed(() => {\n      const flat = props.toolbarOutline !== true\n        && props.toolbarPush !== true\n\n      return {\n        type: 'a',\n        flat,\n        noWrap: true,\n        outline: props.toolbarOutline,\n        push: props.toolbarPush,\n        rounded: props.toolbarRounded,\n        dense: true,\n        color: props.toolbarColor,\n        disable: !editable.value,\n        size: 'sm'\n      }\n    })\n\n    const buttonDef = computed(() => {\n      const\n        e = $q.lang.editor,\n        i = $q.iconSet.editor\n\n      return {\n        bold: { cmd: 'bold', icon: i.bold, tip: e.bold, key: 66 },\n        italic: { cmd: 'italic', icon: i.italic, tip: e.italic, key: 73 },\n        strike: { cmd: 'strikeThrough', icon: i.strikethrough, tip: e.strikethrough, key: 83 },\n        underline: { cmd: 'underline', icon: i.underline, tip: e.underline, key: 85 },\n        unordered: { cmd: 'insertUnorderedList', icon: i.unorderedList, tip: e.unorderedList },\n        ordered: { cmd: 'insertOrderedList', icon: i.orderedList, tip: e.orderedList },\n        subscript: { cmd: 'subscript', icon: i.subscript, tip: e.subscript, htmlTip: 'x<subscript>2</subscript>' },\n        superscript: { cmd: 'superscript', icon: i.superscript, tip: e.superscript, htmlTip: 'x<superscript>2</superscript>' },\n        link: { cmd: 'link', disable: eVm => eVm.caret && !eVm.caret.can('link'), icon: i.hyperlink, tip: e.hyperlink, key: 76 },\n        fullscreen: { cmd: 'fullscreen', icon: i.toggleFullscreen, tip: e.toggleFullscreen, key: 70 },\n        viewsource: { cmd: 'viewsource', icon: i.viewSource, tip: e.viewSource },\n\n        quote: { cmd: 'formatBlock', param: 'BLOCKQUOTE', icon: i.quote, tip: e.quote, key: 81 },\n        left: { cmd: 'justifyLeft', icon: i.left, tip: e.left },\n        center: { cmd: 'justifyCenter', icon: i.center, tip: e.center },\n        right: { cmd: 'justifyRight', icon: i.right, tip: e.right },\n        justify: { cmd: 'justifyFull', icon: i.justify, tip: e.justify },\n\n        print: { type: 'no-state', cmd: 'print', icon: i.print, tip: e.print, key: 80 },\n        outdent: { type: 'no-state', disable: eVm => eVm.caret && !eVm.caret.can('outdent'), cmd: 'outdent', icon: i.outdent, tip: e.outdent },\n        indent: { type: 'no-state', disable: eVm => eVm.caret && !eVm.caret.can('indent'), cmd: 'indent', icon: i.indent, tip: e.indent },\n        removeFormat: { type: 'no-state', cmd: 'removeFormat', icon: i.removeFormat, tip: e.removeFormat },\n        hr: { type: 'no-state', cmd: 'insertHorizontalRule', icon: i.hr, tip: e.hr },\n        undo: { type: 'no-state', cmd: 'undo', icon: i.undo, tip: e.undo, key: 90 },\n        redo: { type: 'no-state', cmd: 'redo', icon: i.redo, tip: e.redo, key: 89 },\n\n        h1: { cmd: 'formatBlock', param: 'H1', icon: i.heading1 || i.heading, tip: e.heading1, htmlTip: `<h1 class=\"q-ma-none\">${ e.heading1 }</h1>` },\n        h2: { cmd: 'formatBlock', param: 'H2', icon: i.heading2 || i.heading, tip: e.heading2, htmlTip: `<h2 class=\"q-ma-none\">${ e.heading2 }</h2>` },\n        h3: { cmd: 'formatBlock', param: 'H3', icon: i.heading3 || i.heading, tip: e.heading3, htmlTip: `<h3 class=\"q-ma-none\">${ e.heading3 }</h3>` },\n        h4: { cmd: 'formatBlock', param: 'H4', icon: i.heading4 || i.heading, tip: e.heading4, htmlTip: `<h4 class=\"q-ma-none\">${ e.heading4 }</h4>` },\n        h5: { cmd: 'formatBlock', param: 'H5', icon: i.heading5 || i.heading, tip: e.heading5, htmlTip: `<h5 class=\"q-ma-none\">${ e.heading5 }</h5>` },\n        h6: { cmd: 'formatBlock', param: 'H6', icon: i.heading6 || i.heading, tip: e.heading6, htmlTip: `<h6 class=\"q-ma-none\">${ e.heading6 }</h6>` },\n        p: { cmd: 'formatBlock', param: props.paragraphTag, icon: i.heading, tip: e.paragraph },\n        code: { cmd: 'formatBlock', param: 'PRE', icon: i.code, htmlTip: `<code>${ e.code }</code>` },\n\n        'size-1': { cmd: 'fontSize', param: '1', icon: i.size1 || i.size, tip: e.size1, htmlTip: `<font size=\"1\">${ e.size1 }</font>` },\n        'size-2': { cmd: 'fontSize', param: '2', icon: i.size2 || i.size, tip: e.size2, htmlTip: `<font size=\"2\">${ e.size2 }</font>` },\n        'size-3': { cmd: 'fontSize', param: '3', icon: i.size3 || i.size, tip: e.size3, htmlTip: `<font size=\"3\">${ e.size3 }</font>` },\n        'size-4': { cmd: 'fontSize', param: '4', icon: i.size4 || i.size, tip: e.size4, htmlTip: `<font size=\"4\">${ e.size4 }</font>` },\n        'size-5': { cmd: 'fontSize', param: '5', icon: i.size5 || i.size, tip: e.size5, htmlTip: `<font size=\"5\">${ e.size5 }</font>` },\n        'size-6': { cmd: 'fontSize', param: '6', icon: i.size6 || i.size, tip: e.size6, htmlTip: `<font size=\"6\">${ e.size6 }</font>` },\n        'size-7': { cmd: 'fontSize', param: '7', icon: i.size7 || i.size, tip: e.size7, htmlTip: `<font size=\"7\">${ e.size7 }</font>` }\n      }\n    })\n\n    const buttons = computed(() => {\n      const userDef = props.definitions || {}\n      const def = props.definitions || props.fonts\n        ? extend(\n          true,\n          {},\n          buttonDef.value,\n          userDef,\n          getFonts(\n            defaultFont,\n            $q.lang.editor.defaultFont,\n            $q.iconSet.editor.font,\n            props.fonts\n          )\n        )\n        : buttonDef.value\n\n      return props.toolbar.map(\n        group => group.map(token => {\n          if (token.options) {\n            return {\n              type: 'dropdown',\n              icon: token.icon,\n              label: token.label,\n              size: 'sm',\n              dense: true,\n              fixedLabel: token.fixedLabel,\n              fixedIcon: token.fixedIcon,\n              highlight: token.highlight,\n              list: token.list,\n              options: token.options.map(item => def[ item ])\n            }\n          }\n\n          const obj = def[ token ]\n\n          if (obj) {\n            return obj.type === 'no-state' || (userDef[ token ] && (\n              obj.cmd === void 0 || (buttonDef.value[ obj.cmd ] && buttonDef.value[ obj.cmd ].type === 'no-state')\n            ))\n              ? obj\n              : Object.assign({ type: 'toggle' }, obj)\n          }\n          else {\n            return {\n              type: 'slot',\n              slot: token\n            }\n          }\n        })\n      )\n    })\n\n    const eVm = {\n      $q,\n      props,\n      slots,\n      emit,\n      // caret (will get injected after mount)\n      inFullscreen,\n      toggleFullscreen,\n      runCmd,\n      isViewingSource,\n      editLinkUrl,\n      toolbarBackgroundClass,\n      buttonProps,\n      contentRef,\n      buttons,\n      setContent\n    }\n\n    watch(() => props.modelValue, v => {\n      if (lastEmit !== v) {\n        lastEmit = v\n        setContent(v, true)\n      }\n    })\n\n    watch(editLinkUrl, v => {\n      emit(`link${ v ? 'Show' : 'Hide' }`)\n    })\n\n    const hasToolbar = computed(() => props.toolbar && props.toolbar.length !== 0)\n\n    const keys = computed(() => {\n      const\n        k = {},\n        add = btn => {\n          if (btn.key) {\n            k[ btn.key ] = {\n              cmd: btn.cmd,\n              param: btn.param\n            }\n          }\n        }\n\n      buttons.value.forEach(group => {\n        group.forEach(token => {\n          if (token.options) {\n            token.options.forEach(add)\n          }\n          else {\n            add(token)\n          }\n        })\n      })\n      return k\n    })\n\n    const innerStyle = computed(() => (\n      inFullscreen.value\n        ? props.contentStyle\n        : [\n            {\n              minHeight: props.minHeight,\n              height: props.height,\n              maxHeight: props.maxHeight\n            },\n            props.contentStyle\n          ]\n    ))\n\n    const classes = computed(() =>\n      `q-editor q-editor--${ isViewingSource.value === true ? 'source' : 'default' }`\n      + (props.disable === true ? ' disabled' : '')\n      + (inFullscreen.value === true ? ' fullscreen column' : '')\n      + (props.square === true ? ' q-editor--square no-border-radius' : '')\n      + (props.flat === true ? ' q-editor--flat' : '')\n      + (props.dense === true ? ' q-editor--dense' : '')\n      + (isDark.value === true ? ' q-editor--dark q-dark' : '')\n    )\n\n    const innerClass = computed(() => ([\n      props.contentClass,\n      'q-editor__content',\n      { col: inFullscreen.value, 'overflow-auto': inFullscreen.value || props.maxHeight }\n    ]))\n\n    const attributes = computed(() => (\n      props.disable === true\n        ? { 'aria-disabled': 'true' }\n        : (props.readonly === true ? { 'aria-readonly': 'true' } : {})\n    ))\n\n    function onInput () {\n      if (contentRef.value !== null) {\n        const prop = `inner${ isViewingSource.value === true ? 'Text' : 'HTML' }`\n        const val = contentRef.value[ prop ]\n\n        if (val !== props.modelValue) {\n          lastEmit = val\n          emit('update:modelValue', val)\n        }\n      }\n    }\n\n    function onKeydown (e) {\n      emit('keydown', e)\n\n      if (e.ctrlKey !== true || shouldIgnoreKey(e) === true) {\n        refreshToolbar()\n        return\n      }\n\n      const key = e.keyCode\n      const target = keys.value[ key ]\n      if (target !== void 0) {\n        const { cmd, param } = target\n        stopAndPrevent(e)\n        runCmd(cmd, param, false)\n      }\n    }\n\n    function onClick (e) {\n      refreshToolbar()\n      emit('click', e)\n    }\n\n    function onBlur (e) {\n      if (contentRef.value !== null) {\n        const { scrollTop, scrollHeight } = contentRef.value\n        offsetBottom = scrollHeight - scrollTop\n      }\n      eVm.caret.save()\n      emit('blur', e)\n    }\n\n    function onFocus (e) {\n      nextTick(() => {\n        if (contentRef.value !== null && offsetBottom !== void 0) {\n          contentRef.value.scrollTop = contentRef.value.scrollHeight - offsetBottom\n        }\n      })\n      emit('focus', e)\n    }\n\n    function onFocusin (e) {\n      const root = rootRef.value\n\n      if (\n        root !== null\n        && root.contains(e.target) === true\n        && (\n          e.relatedTarget === null\n          || root.contains(e.relatedTarget) !== true\n        )\n      ) {\n        const prop = `inner${ isViewingSource.value === true ? 'Text' : 'HTML' }`\n        eVm.caret.restorePosition(contentRef.value[ prop ].length)\n        refreshToolbar()\n      }\n    }\n\n    function onFocusout (e) {\n      const root = rootRef.value\n\n      if (\n        root !== null\n        && root.contains(e.target) === true\n        && (\n          e.relatedTarget === null\n          || root.contains(e.relatedTarget) !== true\n        )\n      ) {\n        eVm.caret.savePosition()\n        refreshToolbar()\n      }\n    }\n\n    function onPointerStart () {\n      offsetBottom = void 0\n    }\n\n    function onSelectionchange (e) {\n      eVm.caret.save()\n    }\n\n    function setContent (v, restorePosition) {\n      if (contentRef.value !== null) {\n        if (restorePosition === true) {\n          eVm.caret.savePosition()\n        }\n\n        const prop = `inner${ isViewingSource.value === true ? 'Text' : 'HTML' }`\n        contentRef.value[ prop ] = v\n\n        if (restorePosition === true) {\n          eVm.caret.restorePosition(contentRef.value[ prop ].length)\n          refreshToolbar()\n        }\n      }\n    }\n\n    function runCmd (cmd, param, update = true) {\n      focus()\n      eVm.caret.restore()\n      eVm.caret.apply(cmd, param, () => {\n        focus()\n        eVm.caret.save()\n        if (update) {\n          refreshToolbar()\n        }\n      })\n    }\n\n    function refreshToolbar () {\n      setTimeout(() => {\n        editLinkUrl.value = null\n        proxy.$forceUpdate()\n      }, 1)\n    }\n\n    function focus () {\n      addFocusFn(() => {\n        contentRef.value !== null && contentRef.value.focus({ preventScroll: true })\n      })\n    }\n\n    function getContentEl () {\n      return contentRef.value\n    }\n\n    onMounted(() => {\n      eVm.caret = proxy.caret = new Caret(contentRef.value, eVm)\n      setContent(props.modelValue)\n      refreshToolbar()\n\n      document.addEventListener('selectionchange', onSelectionchange)\n    })\n\n    onBeforeUnmount(() => {\n      document.removeEventListener('selectionchange', onSelectionchange)\n    })\n\n    // expose public methods\n    Object.assign(proxy, {\n      runCmd, refreshToolbar, focus, getContentEl\n    })\n\n    return () => {\n      let toolbars\n\n      if (hasToolbar.value) {\n        const bars = [\n          h('div', {\n            key: 'qedt_top',\n            class: 'q-editor__toolbar row no-wrap scroll-x'\n              + toolbarBackgroundClass.value\n          }, getToolbar(eVm))\n        ]\n\n        editLinkUrl.value !== null && bars.push(\n          h('div', {\n            key: 'qedt_btm',\n            class: 'q-editor__toolbar row no-wrap items-center scroll-x'\n              + toolbarBackgroundClass.value\n          }, getLinkEditor(eVm))\n        )\n\n        toolbars = h('div', {\n          key: 'toolbar_ctainer',\n          class: 'q-editor__toolbars-container'\n        }, bars)\n      }\n\n      return h('div', {\n        ref: rootRef,\n        class: classes.value,\n        style: { height: inFullscreen.value === true ? '100%' : null },\n        ...attributes.value,\n        onFocusin,\n        onFocusout\n      }, [\n        toolbars,\n\n        h('div', {\n          ref: contentRef,\n          style: innerStyle.value,\n          class: innerClass.value,\n          contenteditable: editable.value,\n          placeholder: props.placeholder,\n          ...(__QUASAR_SSR_SERVER__\n            ? { innerHTML: props.modelValue }\n            : {}),\n          ...splitAttrs.listeners.value,\n          onInput,\n          onKeydown,\n          onClick,\n          onBlur,\n          onFocus,\n\n          // clean saved scroll position\n          onMousedown: onPointerStart,\n          onTouchstartPassive: onPointerStart\n        })\n      ])\n    }\n  }\n})\n","import { ref, watch, onBeforeMount, onMounted, onBeforeUnmount, getCurrentInstance } from 'vue'\n\nimport History from '../../history.js'\nimport { vmHasRouter } from '../../utils/private/vm.js'\n\nlet counter = 0\n\nexport const useFullscreenProps = {\n  fullscreen: Boolean,\n  noRouteFullscreenExit: Boolean\n}\n\nexport const useFullscreenEmits = [ 'update:fullscreen', 'fullscreen' ]\n\nexport default function () {\n  const vm = getCurrentInstance()\n  const { props, emit, proxy } = vm\n\n  let historyEntry, fullscreenFillerNode, container\n  const inFullscreen = ref(false)\n\n  vmHasRouter(vm) === true && watch(() => proxy.$route.fullPath, () => {\n    props.noRouteFullscreenExit !== true && exitFullscreen()\n  })\n\n  watch(() => props.fullscreen, v => {\n    if (inFullscreen.value !== v) {\n      toggleFullscreen()\n    }\n  })\n\n  watch(inFullscreen, v => {\n    emit('update:fullscreen', v)\n    emit('fullscreen', v)\n  })\n\n  function toggleFullscreen () {\n    if (inFullscreen.value === true) {\n      exitFullscreen()\n    }\n    else {\n      setFullscreen()\n    }\n  }\n\n  function setFullscreen () {\n    if (inFullscreen.value === true) {\n      return\n    }\n\n    inFullscreen.value = true\n    container = proxy.$el.parentNode\n    container.replaceChild(fullscreenFillerNode, proxy.$el)\n    document.body.appendChild(proxy.$el)\n\n    counter++\n    if (counter === 1) {\n      document.body.classList.add('q-body--fullscreen-mixin')\n    }\n\n    historyEntry = {\n      handler: exitFullscreen\n    }\n    History.add(historyEntry)\n  }\n\n  function exitFullscreen () {\n    if (inFullscreen.value !== true) {\n      return\n    }\n\n    if (historyEntry !== void 0) {\n      History.remove(historyEntry)\n      historyEntry = void 0\n    }\n\n    container.replaceChild(proxy.$el, fullscreenFillerNode)\n    inFullscreen.value = false\n\n    counter = Math.max(0, counter - 1)\n\n    if (counter === 0) {\n      document.body.classList.remove('q-body--fullscreen-mixin')\n\n      if (proxy.$el.scrollIntoView !== void 0) {\n        setTimeout(() => { proxy.$el.scrollIntoView() })\n      }\n    }\n  }\n\n  onBeforeMount(() => {\n    fullscreenFillerNode = document.createElement('span')\n  })\n\n  onMounted(() => {\n    props.fullscreen === true && setFullscreen()\n  })\n\n  onBeforeUnmount(exitFullscreen)\n\n  // expose public methods\n  Object.assign(proxy, {\n    toggleFullscreen,\n    setFullscreen,\n    exitFullscreen\n  })\n\n  return {\n    inFullscreen,\n    toggleFullscreen\n  }\n}\n"],"names":["getBlockElement","el","parent","nodeName","toLowerCase","includes","style","window","getComputedStyle","currentStyle","display","parentNode","isChildOf","orSame","document","body","contains","createRange","node","chars","range","selectNode","setStart","count","setEnd","nodeType","Node","TEXT_NODE","textContent","length","lp","childNodes","urlRegex","Caret","constructor","eVm","this","_range","selection","sel","getSelection","anchorNode","focusNode","hasSelection","toString","rangeCount","getRangeAt","startContainer","ELEMENT_NODE","blockParent","save","restore","r","startOffset","endContainer","endOffset","removeAllRanges","addRange","selectAllChildren","collapseToEnd","savePosition","charCount","parentEl","focusOffset","previousSibling","savedPos","restorePosition","collapse","hasParent","name","spanLevel","hasParents","list","recursive","is","cmd","param","queryCommandValue","res","inFullscreen","value","isViewingSource","state","queryCommandState","getParentAttribute","attrib","getAttribute","can","apply","done","noop","win","open","write","title","innerHTML","print","close","link","selectWord","url","cloneContents","querySelector","editLinkUrl","test","execCommand","selectNodeContents","toggleFullscreen","setContent","props","modelValue","isCollapsed","modify","anchorOffset","direction","collapsed","detach","endNode","extend","createComponent","unelevated","Boolean","outline","flat","rounded","square","push","stretch","glossy","spread","setup","slots","classes","computed","cls","filter","t","map","join","h","class","hSlot","default","btnPropsList","Object","keys","useBtnProps","passBtnProps","reduce","acc","key","val","useTransitionProps","split","dropdownIcon","String","contentClass","Array","contentStyle","cover","persistent","noRouteDismiss","autoClose","menuAnchor","type","menuSelf","menuOffset","disableMainBtn","disableDropdown","noIconAnimation","toggleAriaLabel","emits","emit","proxy","getCurrentInstance","showing","ref","menuRef","targetUid","uid","ariaAttrs","$q","lang","label","disable","iconClass","btnDesignAttr","getBtnDesignAttr","btnProps","onBeforeShow","e","onShow","onBeforeHide","onHide","onClick","onClickHide","stop","hide","toggle","evt","show","watch","assign","onMounted","Arrow","QIcon","iconSet","arrow","dropdown","QMenu","id","fit","anchor","self","offset","separateClosePopup","transitionShow","transitionHide","transitionDuration","QBtn","noWrap","round","concat","loading","QBtnGroup","color","textColor","dense","size","padding","ripple","run","btn","handler","caret","runCmd","getGroup","children","getBtn","clickHandler","active","toggled","child","tip","platform","desktop","Key","fromCharCode","QTooltip","delay","buttonProps","icon","toggleColor","toolbarToggleColor","toolbarColor","toolbarPush","toolbarTextColor","getDropdown","onlyIcons","Items","closeDropdown","Dropdown","component","options","toolbarBackgroundClass","activeClass","inactiveClass","noIcons","htmlTip","QItem","clickable","contentRef","focus","QItemSection","side","highlight","QBtnDropdown","noCaps","fixedLabel","fixedIcon","getToolbar","buttons","f","find","fb","group","slot","getFonts","defaultFont","defaultFontLabel","defaultFontIcon","fonts","aliases","def","default_font","forEach","alias","getLinkEditor","updateLink","editor","onInput","target","onKeydown","shouldIgnoreKey","keyCode","prevent","tabindex","remove","update","prototype","hasOwn","hasOwnProperty","notPlainObject","Set","isPlainObject","obj","has","call","src","copy","copyIsArray","clone","arguments","i","deep","isArray","useDarkProps","useFullscreenProps","required","readonly","minHeight","maxHeight","height","definitions","placeholder","toolbar","validator","v","every","toolbarBg","toolbarOutline","toolbarRounded","paragraphTag","useFullscreenEmits","attrs","vnode","isDark","useDark","useFullscreen","splitAttrs","useSplitAttrs","rootRef","editable","offsetBottom","lastEmit","fontFamily","buttonDef","bold","italic","strike","strikethrough","underline","unordered","unorderedList","ordered","orderedList","subscript","superscript","hyperlink","fullscreen","viewsource","viewSource","quote","left","center","right","justify","outdent","indent","removeFormat","hr","undo","redo","h1","heading1","heading","h2","heading2","h3","heading3","h4","heading4","h5","heading5","h6","heading6","p","paragraph","code","size1","size2","size3","size4","size5","size6","size7","userDef","font","token","item","hasToolbar","k","add","innerStyle","innerClass","col","attributes","prop","ctrlKey","refreshToolbar","stopAndPrevent","onBlur","scrollTop","scrollHeight","onFocus","nextTick","onFocusin","root","relatedTarget","onFocusout","onPointerStart","onSelectionchange","setTimeout","$forceUpdate","addFocusFn","preventScroll","getContentEl","addEventListener","onBeforeUnmount","removeEventListener","toolbars","bars","contenteditable","listeners","onMousedown","onTouchstartPassive","counter","noRouteFullscreenExit","vm","historyEntry","fullscreenFillerNode","container","exitFullscreen","setFullscreen","$el","replaceChild","appendChild","classList","History","Math","max","scrollIntoView","vmHasRouter","$route","fullPath","onBeforeMount","createElement"],"sourceRoot":""}